<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An Interactive Guide to Relations</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* Custom Styles for a polished look */
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');

        /* Sidebar active link style */
        .sidebar-link.active {
            background-color: #4f46e5;
            color: white;
            font-weight: 700;
        }

        /* Smooth transitions */
        .sidebar-link {
            transition: all 0.2s ease-in-out;
        }

        /* Custom scrollbar for a better look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #64748b;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }

        /* Styles for interactive elements */
        .interactive-box {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        /* Quiz feedback styles */
        .correct-answer {
            color: #16a34a;
            font-weight: 700;
        }
        .incorrect-answer {
            color: #dc2626;
            font-weight: 700;
        }
        .explanation {
            font-size: 0.9rem;
            color: #475569;
            margin-top: 0.5rem;
            padding-left: 1rem;
            border-left: 2px solid #cbd5e1;
        }
        code {
            background-color: #e2e8f0;
            padding: 0.1rem 0.4rem;
            border-radius: 0.25rem;
            font-family: monospace;
            font-size: 0.9em;
        }
        .relation-pair {
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .relation-pair.selected {
            background-color: #dbeafe;
            border-color: #3b82f6;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- Mobile Menu Button -->
    <button id="menu-btn" class="md:hidden fixed top-4 left-4 z-50 bg-white p-2 rounded-md shadow-lg">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
        </svg>
    </button>

    <!-- Sidebar Navigation -->
    <nav id="sidebar" class="fixed top-0 left-0 h-full w-64 bg-slate-800 text-white p-5 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-40 overflow-y-auto">
        <h2 class="text-2xl font-bold mb-8 text-indigo-400">Learning Guide</h2>
        <ul class="space-y-2">
            <li><a href="#cartesian-product" class="sidebar-link block py-2 px-4 rounded-lg hover:bg-slate-700">Cartesian Product</a></li>
            <li><a href="#relations" class="sidebar-link block py-2 px-4 rounded-lg hover:bg-slate-700">What is a Relation?</a></li>
            <li><a href="#properties" class="sidebar-link block py-2 px-4 rounded-lg hover:bg-slate-700">Properties of Relations</a></li>
            <li><a href="#quiz" class="sidebar-link block py-2 px-4 rounded-lg hover:bg-slate-700">Knowledge Check</a></li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main id="main-content" class="md:ml-64 p-6 md:p-10">
        <div class="max-w-4xl mx-auto">

            <!-- Section 1: Cartesian Product -->
            <section id="cartesian-product" class="mb-16 scroll-mt-20">
                <h1 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">Relations</h1>
                <p class="text-lg text-slate-600 mb-6">We've learned about sets, which are collections of objects. Now, let's explore how we can define relationships between the elements of sets.</p>
                
                <h2 class="text-3xl font-bold text-slate-900 mt-8 mb-4">The Cartesian Product</h2>
                <p class="mb-4">Before we can talk about relations, we need to understand the <strong>Cartesian product</strong>. Given two sets, $A$ and $B$, their Cartesian product, written as $A \times B$, is the set of all possible <strong>ordered pairs</strong> $(a, b)$ where $a$ is from set $A$ and $b$ is from set $B$.</p>
                <ul class="list-disc list-inside space-y-2 text-slate-700">
                    <li><strong>Ordered Pairs:</strong> The order matters! The pair $(1, 2)$ is different from the pair $(2, 1)$.</li>
                    <li><strong>Cardinality:</strong> If set $A$ has $m$ elements and set $B$ has $n$ elements, then the Cartesian product $A \times B$ has $m \times n$ elements.</li>
                </ul>
            </section>

            <!-- Section 2: Relations -->
            <section id="relations" class="mb-16 scroll-mt-20">
                <h2 class="text-3xl font-bold text-slate-900 mb-4">What is a Relation?</h2>
                <p class="mb-4">A <strong>relation</strong> $R$ from a set $A$ to a set $B$ is simply any <strong>subset</strong> of the Cartesian product $A \times B$. It's a way of saying which pairs from $A \times B$ are "related" according to some rule.</p>
                <div class="bg-indigo-100 border-l-4 border-indigo-500 text-indigo-700 p-4 rounded-md my-4">
                    <p><strong>Example:</strong> Let $A = \{1, 2\}$ and $B = \{3, 4\}$. Then $A \times B = \{(1, 3), (1, 4), (2, 3), (2, 4)\}$. A relation "less than" from A to B would be the set $R = \{(1, 3), (1, 4), (2, 3), (2, 4)\}$. A relation "equal to" would be the empty set $\emptyset$.</p>
                </div>

                <div class="interactive-box">
                    <h3 class="text-xl font-bold mb-2">Relation Builder</h3>
                    <p class="text-sm text-slate-500 mb-4">Define two sets (use commas, max 4 elements each). Then, click on the pairs in the Cartesian product to build your own relation.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div><label>Set A:</label> <input type="text" id="setA-input" value="1,2" class="w-full p-1 border rounded-md"></div>
                        <div><label>Set B:</label> <input type="text" id="setB-input" value="a,b" class="w-full p-1 border rounded-md"></div>
                    </div>
                    <h4 class="font-bold">Cartesian Product $A \times B$:</h4>
                    <div id="cartesian-product-output" class="flex flex-wrap gap-2 my-2 p-2 bg-white rounded-md border"></div>
                    <h4 class="font-bold">Your Relation R:</h4>
                    <div id="relation-output" class="p-2 text-indigo-600 font-mono"></div>
                </div>
            </section>

            <!-- Section 3: Properties of Relations -->
            <section id="properties" class="mb-16 scroll-mt-20">
                <h2 class="text-3xl font-bold text-slate-900 mb-4">Properties of Relations</h2>
                <p class="mb-4">When a relation is defined from a set to itself (i.e., a subset of $A \times A$), it can have special properties:</p>
                <ul class="list-disc list-inside space-y-3 text-slate-700">
                    <li><strong>Reflexive:</strong> A relation $R$ on set $A$ is reflexive if $(a, a) \in R$ for every element $a \in A$. (Everyone is related to themselves).</li>
                    <li><strong>Symmetric:</strong> If $(a, b) \in R$, then $(b, a) \in R$. (If I'm your classmate, you're my classmate).</li>
                    <li><strong>Transitive:</strong> If $(a, b) \in R$ and $(b, c) \in R$, then $(a, c) \in R$. (If A is taller than B, and B is taller than C, then A is taller than C).</li>
                </ul>
                 <div class="bg-emerald-100 border-l-4 border-emerald-500 text-emerald-700 p-4 rounded-md my-4">
                    <p>A relation that is <strong>reflexive, symmetric, and transitive</strong> is called an <strong>equivalence relation</strong>. It partitions the set into disjoint subsets called equivalence classes.</p>
                </div>
            </section>

            <!-- Section 4: Knowledge Check Quiz -->
            <section id="quiz" class="scroll-mt-20">
                <h2 class="text-3xl font-bold text-slate-900 mb-6">Knowledge Check</h2>
                <div id="quiz-container" class="space-y-8">
                    <!-- Questions will be dynamically inserted here -->
                </div>
            </section>
        </div>
    </main>

    <!-- Main application script -->
    <script>
        function runGuide() {
            // --- Mobile Menu Logic ---
            const menuBtn = document.getElementById('menu-btn');
            const sidebar = document.getElementById('sidebar');
            menuBtn.addEventListener('click', () => sidebar.classList.toggle('-translate-x-full'));
            sidebar.addEventListener('click', (e) => {
                if (e.target.tagName === 'A' && window.innerWidth < 768) {
                    sidebar.classList.add('-translate-x-full');
                }
            });

            // --- Active Sidebar Link on Scroll ---
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.sidebar-link');
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { rootMargin: '-50% 0px -50% 0px' });
            sections.forEach(section => observer.observe(section));
            
            // --- Relation Builder ---
            const setAInput = document.getElementById('setA-input');
            const setBInput = document.getElementById('setB-input');
            const cartesianOutput = document.getElementById('cartesian-product-output');
            const relationOutput = document.getElementById('relation-output');

            function updateRelationBuilder() {
                const setA = setAInput.value.split(',').map(s => s.trim()).filter(Boolean).slice(0, 4);
                const setB = setBInput.value.split(',').map(s => s.trim()).filter(Boolean).slice(0, 4);
                cartesianOutput.innerHTML = '';
                relationOutput.innerHTML = 'R = { }';

                const cartesianProduct = [];
                for (const a of setA) {
                    for (const b of setB) {
                        cartesianProduct.push([a, b]);
                    }
                }

                cartesianProduct.forEach(pair => {
                    const pairEl = document.createElement('div');
                    pairEl.className = 'relation-pair p-2 border rounded-md bg-slate-50';
                    pairEl.textContent = `(${pair[0]}, ${pair[1]})`;
                    pairEl.dataset.pair = JSON.stringify(pair);
                    cartesianOutput.appendChild(pairEl);
                });
            }

            cartesianOutput.addEventListener('click', (e) => {
                if (e.target.classList.contains('relation-pair')) {
                    e.target.classList.toggle('selected');
                    const selectedPairs = Array.from(cartesianOutput.querySelectorAll('.selected'))
                        .map(el => el.dataset.pair);
                    relationOutput.textContent = `R = { ${selectedPairs.map(p => `(${JSON.parse(p).join(', ')})`).join(', ')} }`;
                }
            });

            setAInput.addEventListener('input', updateRelationBuilder);
            setBInput.addEventListener('input', updateRelationBuilder);
            updateRelationBuilder();


            // --- Quiz Logic ---
            const quizData = [
                // Benchmark Questions
                {
                    question: "Let $A = \\{1, 4\\}$ and $B = \\{2, 4, 6, 8\\}$. Which of the following is the Cartesian product of $A$ and $B$?",
                    type: 'single',
                    options: [
                        '\\{(1, 2), (1, 4), (1, 6), (1, 8), (4, 1), (4, 4), (4, 6), (4, 8)\\}',
                        '\\{(1, 2), (1, 4), (1, 6), (1, 8), (4, 2), (4, 4), (4, 6), (4, 8)\\}',
                        '\\{(1, 2), (1, 4), (1, 6), (1, 8), (2, 4), (4, 2), (4, 6), (4, 8)\\}',
                        '\\{(1, 6), (1, 8), (2, 4), (2, 6), (4, 2), (4, 4), (4, 6), (4, 8)\\}'
                    ],
                    correct: [1],
                    explanation: "The Cartesian product $A \\times B$ consists of all ordered pairs $(a, b)$ where $a \\in A$ and $b \\in B$. This means pairing 1 with each element of B, and then 4 with each element of B."
                },
                {
                    question: "If set $M$ contains 4 elements and set $N$ contains 3 elements, then $M \\times N$ contains $x$ elements. What is the value of $x$?",
                    type: 'numerical',
                    correct: 12,
                    explanation: "The cardinality of a Cartesian product is the product of the cardinalities of the individual sets. So, $|M \\times N| = |M| \\times |N| = 4 \\times 3 = 12$."
                },
                {
                    question: "Suppose the Cartesian product $A \\times B$ has 18 elements. Which of the following options may represent the number of elements in $A$ and $B$?",
                    type: 'multiple',
                    options: ['3, 9', '2, 9', '9, 9', '6, 3'],
                    correct: [1, 3],
                    explanation: "We need pairs of numbers that multiply to 18. $2 \\times 9 = 18$ and $6 \\times 3 = 18$. The other options do not multiply to 18."
                },
                {
                    question: "Which of the following statement(s) is(are) true?",
                    type: 'multiple',
                    options: ['In a set, order of elements is not important', 'A relation is a subset of Cartesian product', 'In each pair of Cartesian product, order is not important', 'All of the above'],
                    correct: [0, 1],
                    explanation: "Order does not matter in sets. A relation is defined as a subset of a Cartesian product. However, order IS important in the ordered pairs of a Cartesian product."
                },
                {
                    question: "Let $B = \\{$Anil, Ramu, Suraj$\\}$ and $G = \\{$Neha, Keerthi$\\}$ be the sets of boys and girls respectively. Ramu is brother of Neha, Anil is brother of Keerthi, Suraj is brother of Neha and Keerthi. Let us define a relation $R = \\{(a,b)\\, | \\,(a,b) \\in B \\times G, a \\text{ is brother of } b\\}$. Which of the following will be $R$?",
                    type: 'single',
                    options: [
                        '\\{(Anil, Keerthi), (Suraj, Neha), (Ramu, Neha), (Suraj, Keerthi)\\}',
                        '\\{(Anil, Keerthi), (Ramu, Keerthi), (Ramu, Neha), (Suraj, Neha)\\}',
                        '\\{(Anil, Neha), (Ramu, Keerthi), (Ramu, Neha), (Suraj, Keerthi)\\}',
                        '\\{(Anil, Keerthi), ( Ramu, Neha), (Suraj, Neha), (Ramu, Keerthi), (Anil, Neha), (Suraj, Keerthi)\\}'
                    ],
                    correct: [0],
                    explanation: "We list all pairs (boy, girl) where the boy is a brother of the girl based on the problem description: (Anil, Keerthi), (Ramu, Neha), (Suraj, Neha), and (Suraj, Keerthi)."
                },
                {
                    question: "Let $S$ be a set of students who are studying B.tech first year at I.I.T Madras. Which of the following relations is a symmetric relation?",
                    type: 'single',
                    options: [
                        '\\{(a,b) \\,| \\,a, b \\in S, \\,a \\text{ is younger than } b\\}',
                        '\\{(a,b) \\,| \\,a, b \\in S, \\,a \\text{ got more marks in mathematics course than } b\\}',
                        '\\{(a,b) \\,| \\,a, b \\in S, \\,a \\text{ is classmate of } b\\}',
                        '\\{(a,b) \\,| \\,a, b \\in S, \\,a \\text{ is taller than } b\\}'
                    ],
                    correct: [2],
                    explanation: "A relation is symmetric if $(a,b)$ implies $(b,a)$. If 'a' is a classmate of 'b', then 'b' is a classmate of 'a'. The other relations ('younger than', 'more marks than', 'taller than') are not symmetric."
                },
                {
                    question: "Which of the following statement(s) is(are) incorrect?",
                    type: 'multiple',
                    options: ['An equivalence relation partitions a set', 'An equivalence class is same as equivalence relation', 'Antisymmetric relation is an equivalence relation', 'Elements in Cartesian product will only be in pairs'],
                    correct: [1, 2, 3],
                    explanation: "An equivalence class is a subset of the original set, not the relation itself. An antisymmetric relation is not necessarily reflexive or symmetric. A Cartesian product can be of three or more sets, resulting in triplets, etc."
                },
                // New Questions
                {
                    question: "A relation R on a set A is reflexive if:",
                    type: 'single',
                    options: ['For all $a, b \\in A$, if $(a,b) \\in R$ then $(b,a) \\in R$.', 'For all $a \\in A$, $(a,a) \\in R$.', 'For all $a, b, c \\in A$, if $(a,b) \\in R$ and $(b,c) \\in R$ then $(a,c) \\in R$.', 'For all $a,b \\in A$, $(a,b) \\in R$.'],
                    correct: [1],
                    explanation: "The definition of a reflexive relation is that every element is related to itself."
                },
                {
                    question: "The relation 'is a factor of' on the set of natural numbers is:",
                    type: 'single',
                    options: ['Reflexive and Symmetric', 'Symmetric and Transitive', 'Reflexive and Transitive', 'Only Reflexive'],
                    correct: [2],
                    explanation: "It is reflexive (every number is a factor of itself) and transitive (if a divides b and b divides c, then a divides c), but not symmetric (2 is a factor of 4, but 4 is not a factor of 2)."
                },
                {
                    question: "If $A = \\{1, 2\\}$, how many relations can be defined on set A?",
                    type: 'single',
                    options: ['4', '8', '16', '32'],
                    correct: [2],
                    explanation: "A relation on A is a subset of $A \\times A$. Here, $A \\times A$ has $2 \\times 2 = 4$ elements. The number of subsets of a set with 4 elements is $2^4 = 16$."
                },
                {
                    question: "The relation $R = \\{(x,y) | x, y \\in \\mathbb{Z}, x-y \\text{ is an even number}\\}$ is:",
                    type: 'single',
                    options: ['Reflexive only', 'Symmetric only', 'Transitive only', 'An equivalence relation'],
                    correct: [3],
                    explanation: "It is reflexive ($x-x=0$ is even), symmetric (if $x-y$ is even, so is $y-x$), and transitive (if $x-y$ and $y-z$ are even, their sum $x-z$ is also even). Therefore, it is an equivalence relation."
                },
                {
                    question: "Let $A = \\{a, b\\}$. Which of these is a symmetric relation on A?",
                    type: 'multiple',
                    options: ['$\\{(a,a), (b,b)\\}$', '$\\{(a,b), (b,a)\\}$', '$\\{(a,a), (a,b)\\}$', '$\\{(a,a), (b,b), (a,b), (b,a)\\}$'],
                    correct: [0, 1, 3],
                    explanation: "A relation is symmetric if for every pair (x,y), the pair (y,x) also exists. Option 3 is not symmetric because it has (a,b) but not (b,a)."
                },
                {
                    question: "True or False: In a Cartesian product $A \\times B$, the pair $(a,b)$ is the same as the pair $(b,a)$.",
                    type: 'single',
                    options: ['True', 'False'],
                    correct: [1],
                    explanation: "False. The pairs in a Cartesian product are ordered, meaning the position of the elements matters. $(a,b)$ is different from $(b,a)$ unless $a=b$."
                },
                {
                    question: "The relation 'is a sibling of' (assuming a person is not their own sibling) on a set of people is:",
                    type: 'multiple',
                    options: ['Reflexive', 'Symmetric', 'Transitive', 'Equivalence Relation'],
                    correct: [1, 2],
                    explanation: "It is not reflexive (you are not your own sibling). It is symmetric (if A is B's sibling, B is A's sibling). It is transitive (if A is B's sibling and B is C's sibling, then A is C's sibling). Since it's not reflexive, it's not an equivalence relation."
                },
                {
                    question: "What is the cardinality of the Cartesian product of the set of days in a week and the set of months in a year?",
                    type: 'numerical',
                    correct: 84,
                    explanation: "The set of days has 7 elements, and the set of months has 12 elements. The cardinality of their Cartesian product is $7 \\times 12 = 84$."
                },
                {
                    question: "Which property is defined by: 'if $(a,b) \\in R$ then $(b,a) \\in R$'?",
                    type: 'single',
                    options: ['Reflexive', 'Symmetric', 'Transitive', 'Anti-Symmetric'],
                    correct: [1],
                    explanation: "This is the definition of the symmetric property."
                },
                {
                    question: "Let $R$ be a relation on $\{1, 2, 3\}$ such that $R = \\{(1, 2), (2, 3)\\}$. What ordered pair must be added to $R$ to make it transitive?",
                    type: 'single',
                    options: ['$(3, 1)$', '$(2, 1)$', '$(1, 3)$', '$(3, 2)$'],
                    correct: [2],
                    explanation: "For transitivity, if $(1,2)$ and $(2,3)$ are in the relation, then $(1,3)$ must also be in the relation."
                }
            ];

            const quizContainer = document.getElementById('quiz-container');
            quizData.forEach((q, index) => {
                const questionElem = document.createElement('div');
                questionElem.className = 'p-6 bg-white rounded-lg shadow-md';
                
                let optionsHTML = '';
                if (q.type === 'numerical') {
                    optionsHTML = `<input type="number" id="q${index}o0" class="p-2 border rounded-md">`;
                } else {
                    optionsHTML = q.options.map((opt, i) => `
                        <div class="flex items-center">
                            <input type="${q.type === 'single' ? 'radio' : 'checkbox'}" id="q${index}o${i}" name="q${index}" value="${i}" class="mr-3">
                            <label for="q${index}o${i}">${opt}</label>
                        </div>
                    `).join('');
                }

                questionElem.innerHTML = `
                    <p class="font-bold mb-4">${index + 1}. ${q.question}</p>
                    <div class="space-y-2 mb-4">${optionsHTML}</div>
                    <button class="check-answer-btn px-4 py-2 text-sm bg-slate-200 font-semibold rounded-md hover:bg-slate-300">Check Answer</button>
                    <div class="feedback mt-4 hidden"></div>
                `;
                quizContainer.appendChild(questionElem);
            });

            quizContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('check-answer-btn')) {
                    const questionElem = e.target.closest('.p-6');
                    const feedbackElem = questionElem.querySelector('.feedback');
                    const questionIndex = Array.from(quizContainer.children).indexOf(questionElem);
                    const questionData = quizData[questionIndex];
                    
                    let isCorrect = false;
                    if (questionData.type === 'numerical') {
                        const input = questionElem.querySelector('input');
                        isCorrect = parseInt(input.value) === questionData.correct;
                    } else {
                        const inputs = questionElem.querySelectorAll('input:checked');
                        let selectedIndices = Array.from(inputs).map(input => parseInt(input.value));
                        if (questionData.type === 'single') {
                            isCorrect = selectedIndices.length === 1 && selectedIndices[0] === questionData.correct[0];
                        } else { // multiple
                            isCorrect = selectedIndices.length === questionData.correct.length && selectedIndices.every(val => questionData.correct.includes(val));
                        }
                    }
                    
                    feedbackElem.classList.remove('hidden');
                    if (isCorrect) {
                        feedbackElem.innerHTML = `<p class="correct-answer">Correct!</p><p class="explanation">${questionData.explanation}</p>`;
                    } else {
                        feedbackElem.innerHTML = `<p class="incorrect-answer">Not quite.</p><p class="explanation">${questionData.explanation}</p>`;
                    }
                    MathJax.typesetPromise([feedbackElem]);
                }
            });
            MathJax.typesetPromise();
        }
    </script>
    <!-- MathJax Configuration and Loader -->
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']]
        },
        svg: {
          fontCache: 'global'
        },
        startup: {
          ready: () => {
            MathJax.startup.defaultReady();
            // This now correctly waits for the DOM to be loaded before running the guide script.
            if (document.readyState === "loading") {
                document.addEventListener("DOMContentLoaded", runGuide);
            } else {
                runGuide();
            }
          }
        }
      };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" async></script>
</body>
</html>
