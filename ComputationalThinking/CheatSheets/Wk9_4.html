<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Guide: The Concept of Popular Students</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .active-nav {
            background-color: #3b82f6;
            color: white;
        }
        /* Custom scrollbar for a better look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
        /* Style for pseudocode blocks */
        pre {
            background-color: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- Main Container: Becomes a flex container on large screens -->
    <div class="relative min-h-screen lg:flex">
        <!-- Mobile Header -->
        <div class="lg:hidden fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-sm shadow-md z-40 flex justify-between items-center p-4">
            <h1 class="text-lg font-bold text-blue-600">Popular Students Guide</h1>
            <button id="hamburger-btn" class="p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-4 6h4"></path></svg>
            </button>
        </div>

        <!-- Sidebar Navigation -->
        <!-- On mobile, it's a fixed overlay. On desktop (lg), it becomes sticky. -->
        <aside id="sidebar" class="fixed top-0 left-0 w-64 h-full bg-white shadow-lg transform -translate-x-full transition-transform duration-300 ease-in-out z-50 flex flex-col lg:sticky lg:translate-x-0 lg:flex-shrink-0 lg:h-screen">
            <div class="p-6 border-b">
                <h2 class="text-2xl font-bold text-blue-600">Learning Guide</h2>
                <p class="text-sm text-slate-500 mt-1">Concept of Popularity</p>
            </div>
            <nav id="nav-menu" class="flex-grow p-4 space-y-2 overflow-y-auto">
                <a href="#intro" class="nav-link block px-4 py-2 rounded-md font-medium text-slate-700 hover:bg-blue-100 transition-colors">Introduction</a>
                <a href="#graphs" class="nav-link block px-4 py-2 rounded-md font-medium text-slate-700 hover:bg-blue-100 transition-colors">What is a Graph?</a>
                <a href="#mentorship-graph" class="nav-link block px-4 py-2 rounded-md font-medium text-slate-700 hover:bg-blue-100 transition-colors">The Mentorship Graph</a>
                <a href="#degrees" class="nav-link block px-4 py-2 rounded-md font-medium text-slate-700 hover:bg-blue-100 transition-colors">In-Degree & Out-Degree</a>
                <a href="#popular" class="nav-link block px-4 py-2 rounded-md font-medium text-slate-700 hover:bg-blue-100 transition-colors">Who is a 'Popular' Student?</a>
                <a href="#algorithm" class="nav-link block px-4 py-2 rounded-md font-medium text-slate-700 hover:bg-blue-100 transition-colors">The Algorithm</a>
                <a href="#middle-range" class="nav-link block px-4 py-2 rounded-md font-medium text-slate-700 hover:bg-blue-100 transition-colors">Why Middle-Range Wins</a>
                <a href="#simulator" class="nav-link block px-4 py-2 rounded-md font-medium text-slate-700 hover:bg-blue-100 transition-colors">Interactive Simulator</a>
                <a href="#quiz" class="nav-link block px-4 py-2 rounded-md font-medium text-slate-700 hover:bg-blue-100 transition-colors">Knowledge Check</a>
            </nav>
        </aside>

        <!-- Main Content: On desktop, it grows to fill the remaining space -->
        <main class="w-full flex-grow pt-20 lg:pt-0">
            <div class="p-6 md:p-10 lg:p-12">
                
                <!-- Introduction Section -->
                <section id="intro" class="mb-16 scroll-mt-20">
                    <h1 class="text-4xl font-bold text-slate-900 mb-4">Finding the "Popular" Kids with Graphs</h1>
                    <p class="text-lg text-slate-600 leading-relaxed">
                        Have you ever wondered how we can use data to understand relationships in a group? In this guide, we'll explore a fun concept: identifying "popular" students. But we're not talking about a high school popularity contest! We're talking about who is the most connected in a study network.
                    </p>
                    <p class="mt-4 text-lg text-slate-600 leading-relaxed">
                        We'll use a powerful tool called a <strong class="font-semibold text-blue-600">graph</strong> to visualize and analyze student relationships based on their marks. By the end, you'll understand how we can define and find these central, "popular" students who act as important hubs in the class.
                    </p>
                </section>

                <!-- What is a Graph? Section -->
                <section id="graphs" class="mb-16 scroll-mt-20">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">What is a Graph?</h2>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <p class="text-slate-600 leading-relaxed mb-4">
                            In this context, a graph isn't a chart with x and y axes. It's a way to represent connections between things. A graph has two simple parts:
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-slate-600">
                            <li><strong class="font-semibold text-slate-800">Nodes (or Vertices):</strong> These are the individual items we are interested in. In our case, each student is a node.</li>
                            <li><strong class="font-semibold text-slate-800">Edges:</strong> These are the lines that connect the nodes. An edge represents a relationship between two nodes.</li>
                        </ul>
                        <div class="mt-6 p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg">
                            <p class="text-blue-800">Think of it like a map of your friends. Each person is a node, and if two people are friends, you draw a line (an edge) between them. That's a graph!</p>
                        </div>
                    </div>
                </section>

                <!-- The Mentorship Graph Section -->
                <section id="mentorship-graph" class="mb-16 scroll-mt-20">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">The Mentorship Graph</h2>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <p class="text-slate-600 leading-relaxed mb-4">
                            To find our popular students, we'll create a specific type of graph called a <strong class="font-semibold text-slate-800">mentorship graph</strong>. Here's how it works:
                        </p>
                        <ul class="list-none space-y-4">
                            <li class="flex items-start">
                                <svg class="w-6 h-6 text-green-500 mr-3 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                <div>
                                    <h4 class="font-semibold text-slate-800">The Rule for Connection</h4>
                                    A student 'A' can mentor student 'B' in a subject only if A's mark is higher than B's, but not too much higher. The sweet spot is a mark difference <strong class="font-semibold">between 10 and 20 points (inclusive)</strong>. This ensures the mentor knows the subject substantially better, but can still understand the mentee's difficulties.
                                </div>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-6 h-6 text-green-500 mr-3 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                <div>
                                    <h4 class="font-semibold text-slate-800">Directed Edges</h4>
                                    Since mentoring is a one-way street (A helps B, but B doesn't help A in the same subject), we use <strong class="font-semibold">directed edges</strong>, which are just arrows. An arrow from A to B (A → B) means "A can mentor B".
                                </div>
                            </li>
                        </ul>
                    </div>
                </section>

                <!-- In-Degree & Out-Degree Section -->
                <section id="degrees" class="mb-16 scroll-mt-20">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">Measuring Connections: In-Degree & Out-Degree</h2>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <p class="text-slate-600 leading-relaxed mb-4">
                            In a directed graph, we can be more specific about a node's connections. We use two key terms:
                        </p>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="p-4 bg-slate-50 rounded-lg border">
                                <h4 class="font-bold text-lg text-slate-800">In-Degree</h4>
                                <p class="text-slate-600 mt-1">The number of <strong class="font-semibold">incoming</strong> arrows a node has. This tells us how many other students can mentor this student.</p>
                            </div>
                            <div class="p-4 bg-slate-50 rounded-lg border">
                                <h4 class="font-bold text-lg text-slate-800">Out-Degree</h4>
                                <p class="text-slate-600 mt-1">The number of <strong class="font-semibold">outgoing</strong> arrows a node has. This tells us how many other students this student can mentor.</p>
                            </div>
                        </div>
                        <p class="mt-6 text-slate-600 leading-relaxed">
                            For example, if 2 people can mentor Priya, her in-degree is 2. If Priya can mentor 3 other people, her out-degree is 3.
                        </p>
                    </div>
                </section>

                <!-- Who is a 'Popular' Student? Section -->
                <section id="popular" class="mb-16 scroll-mt-20">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">Who is a 'Popular' Student?</h2>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <p class="text-slate-600 leading-relaxed mb-4">
                            So, what's our final definition of "popular"? It's not just about having a high in-degree or a high out-degree.
                        </p>
                        <div class="p-6 bg-yellow-50 border-l-4 border-yellow-500 rounded-r-lg">
                            <p class="text-lg font-semibold text-yellow-900">
                                A "popular" student is one who has the highest number of <strong class="font-bold">total unique connections</strong>.
                            </p>
                            <p class="mt-2 text-yellow-800">
                                This means we count every unique student they are connected to, whether it's an incoming arrow (they are mentored) or an outgoing arrow (they are the mentor). We just want to find the student who can interact with the most people in the network. In graph theory, this is called having the highest <strong class="font-semibold">total degree</strong> or the most <strong class="font-semibold">neighbors</strong>.
                            </p>
                        </div>
                    </div>
                </section>

                <!-- The Algorithm Section -->
                <section id="algorithm" class="mb-16 scroll-mt-20">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">The Algorithm for Finding Popularity</h2>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <p class="text-slate-600 leading-relaxed mb-4">
                            Now that we know the concept, how would a computer actually calculate this? The key is to count unique mentors and mentees for each student across all subjects. Here is the pseudocode that shows the logic:
                        </p>
                        <pre><code>mentors = {}
popularity = {}

foreach j in columns(mathMentorGraph) {
  // For each student 'j', create an empty set to store their unique mentors
  mentors[j] = {} 

  // Now, check every other student 'i' to see if they mentor 'j'
  foreach i in rows(mathMentorGraph) {
    if (mathMentorGraph[i][j] == 1) {
      mentors[j][i] = True
    }
    if (phyMentorGraph[i][j] == 1) {
      mentors[j][i] = True
    }
    if (chemMentorGraph[i][j] == 1) {
      mentors[j][i] = True
    }
  }
  
  // The popularity is the number of unique mentors found
  popularity[j] = length(keys(mentors[j]))
}</code></pre>
                        <div class="mt-6 p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg">
                            <h4 class="font-semibold text-blue-900">Why this works:</h4>
                            <p class="text-blue-800 mt-2">This algorithm calculates the <strong class="font-semibold">in-degree</strong> by finding all unique mentors. A similar process would be needed to find the unique mentees for the <strong class="font-semibold">out-degree</strong>. The final popularity score is the total number of unique students from both lists combined.</p>
                        </div>
                    </div>
                </section>

                <!-- Why Middle-Range Wins Section -->
                <section id="middle-range" class="mb-16 scroll-mt-20">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">Why Middle-Range Wins</h2>
                     <div class="bg-white p-6 rounded-lg shadow-md">
                        <p class="text-slate-600 leading-relaxed mb-4">
                            It's tempting to think the students with the highest or lowest marks would be the most connected. But let's see why that's not the case:
                        </p>
                        <ul class="space-y-4">
                            <li>
                                <strong class="font-semibold text-red-600">Highest-Mark Student:</strong> This student can mentor many others (high out-degree), but no one can mentor them. Their in-degree is 0.
                            </li>
                            <li>
                                <strong class="font-semibold text-green-600">Lowest-Mark Student:</strong> This student can be mentored by many others (high in-degree), but they can't mentor anyone. Their out-degree is 0.
                            </li>
                            <li>
                                <strong class="font-semibold text-blue-600">Middle-Range Student:</strong> This is the sweet spot! These students have marks low enough to be mentored by top performers, and marks high enough to mentor the students below them. They have the potential for both a high in-degree AND a high out-degree, maximizing their total number of connections.
                            </li>
                        </ul>
                        <p class="mt-6 text-slate-600 leading-relaxed">
                            This is a key insight from network analysis: sometimes the most important nodes aren't at the extremes, but are the ones that <strong class="font-semibold">bridge different parts of the network</strong>.
                        </p>
                    </div>
                </section>

                <!-- Interactive Simulator Section -->
                <section id="simulator" class="mb-16 scroll-mt-20">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">Interactive Simulator</h2>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <p class="text-slate-600 leading-relaxed mb-4">
                            Let's see this in action! Below is a small group of students. Click the button to build the mentorship graph for their Math scores and see who is the most "popular". Hover over a student to see their stats.
                        </p>
                        <div class="mt-4 p-4 border rounded-lg">
                            <div class="flex justify-center mb-4">
                                <button id="build-graph-btn" class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition-transform transform hover:scale-105">
                                    Build Mentorship Graph
                                </button>
                            </div>
                            <canvas id="graph-canvas" class="w-full h-96 bg-slate-100 rounded-md"></canvas>
                        </div>
                    </div>
                </section>

                <!-- Knowledge Check Section -->
                <section id="quiz" class="scroll-mt-20">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">Knowledge Check</h2>
                    <div id="quiz-container" class="bg-white p-6 rounded-lg shadow-md space-y-8">
                        <!-- Quiz questions will be injected here by JavaScript -->
                    </div>
                </section>

            </div>
        </main>
    </div>
    
    <!-- Mobile Sidebar Overlay -->
    <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden lg:hidden"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Mobile Sidebar Logic ---
            const hamburgerBtn = document.getElementById('hamburger-btn');
            const sidebar = document.getElementById('sidebar');
            const sidebarOverlay = document.getElementById('sidebar-overlay');
            const navLinks = document.querySelectorAll('.nav-link');

            function toggleSidebar() {
                sidebar.classList.toggle('-translate-x-full');
                sidebarOverlay.classList.toggle('hidden');
            }

            hamburgerBtn.addEventListener('click', toggleSidebar);
            sidebarOverlay.addEventListener('click', toggleSidebar);
            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth < 1024) {
                        toggleSidebar();
                    }
                });
            });

            // --- Active Nav Link Highlighting on Scroll ---
            const sections = document.querySelectorAll('section');
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('active-nav');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active-nav');
                            }
                        });
                    }
                });
            }, { rootMargin: '-50% 0px -50% 0px', threshold: 0 });

            sections.forEach(section => observer.observe(section));

            // --- Interactive Graph Simulator ---
            const canvas = document.getElementById('graph-canvas');
            const ctx = canvas.getContext('2d');
            const buildGraphBtn = document.getElementById('build-graph-btn');

            const students = [
                { id: 'Rahul', math: 97, x: 0.5, y: 0.1 },
                { id: 'Kavya', math: 64, x: 0.2, y: 0.4 },
                { id: 'Siddharth', math: 72, x: 0.8, y: 0.4 },
                { id: 'Priya', math: 83, x: 0.5, y: 0.6 },
                { id: 'Rida', math: 42, x: 0.3, y: 0.8 },
                { id: 'Gopi', math: 65, x: 0.7, y: 0.8 },
            ];
            
            let graphBuilt = false;
            let edges = [];
            let popularity = {};

            function resizeCanvas() {
                canvas.width = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;
                draw();
            }

            function calculateGraph() {
                edges = [];
                const studentMap = new Map(students.map(s => [s.id, s]));

                students.forEach(s => {
                    popularity[s.id] = { in: 0, out: 0, neighbors: new Set() };
                });

                for (let i = 0; i < students.length; i++) {
                    for (let j = 0; j < students.length; j++) {
                        if (i === j) continue;
                        const mentor = students[i];
                        const mentee = students[j];
                        const diff = mentor.math - mentee.math;

                        if (diff >= 10 && diff <= 20) {
                            edges.push({ from: mentor, to: mentee });
                            popularity[mentor.id].out++;
                            popularity[mentee.id].in++;
                            popularity[mentor.id].neighbors.add(mentee.id);
                            popularity[mentee.id].neighbors.add(mentor.id);
                        }
                    }
                }
            }

            function drawArrow(fromX, fromY, toX, toY) {
                const headlen = 10;
                const dx = toX - fromX;
                const dy = toY - fromY;
                const angle = Math.atan2(dy, dx);
                ctx.moveTo(fromX, fromY);
                ctx.lineTo(toX, toY);
                ctx.lineTo(toX - headlen * Math.cos(angle - Math.PI / 6), toY - headlen * Math.sin(angle - Math.PI / 6));
                ctx.moveTo(toX, toY);
                ctx.lineTo(toX - headlen * Math.cos(angle + Math.PI / 6), toY - headlen * Math.sin(angle + Math.PI / 6));
            }
            
            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                const nodeRadius = 20;

                // Draw edges if graph is built
                if (graphBuilt) {
                    ctx.strokeStyle = '#94a3b8';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    edges.forEach(edge => {
                        const fromX = edge.from.x * canvas.width;
                        const fromY = edge.from.y * canvas.height;
                        const toX = edge.to.x * canvas.width;
                        const toY = edge.to.y * canvas.height;
                        drawArrow(fromX, fromY, toX, toY);
                    });
                    ctx.stroke();
                }

                // Find most popular student
                let mostPopular = null;
                let maxNeighbors = -1;
                if(graphBuilt) {
                    for(const id in popularity) {
                        const neighborCount = popularity[id].neighbors.size;
                        if (neighborCount > maxNeighbors) {
                            maxNeighbors = neighborCount;
                            mostPopular = id;
                        }
                    }
                }

                // Draw nodes
                students.forEach(s => {
                    const x = s.x * canvas.width;
                    const y = s.y * canvas.height;
                    
                    ctx.beginPath();
                    ctx.arc(x, y, nodeRadius, 0, 2 * Math.PI);
                    
                    if (graphBuilt && s.id === mostPopular) {
                        ctx.fillStyle = '#f59e0b'; // Highlight popular student
                        ctx.strokeStyle = '#b45309';
                    } else {
                        ctx.fillStyle = '#3b82f6';
                        ctx.strokeStyle = '#1e40af';
                    }

                    ctx.fill();
                    ctx.lineWidth = 2;
                    ctx.stroke();

                    ctx.fillStyle = 'white';
                    ctx.font = '12px Inter';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(s.id, x, y);
                });
            }

            buildGraphBtn.addEventListener('click', () => {
                graphBuilt = true;
                calculateGraph();
                draw();
            });

            canvas.addEventListener('mousemove', (e) => {
                if (!graphBuilt) return;
                const rect = canvas.getBoundingClientRect();
                const mouseX = e.clientX - rect.left;
                const mouseY = e.clientY - rect.top;
                let hoveredNode = null;

                students.forEach(s => {
                    const x = s.x * canvas.width;
                    const y = s.y * canvas.height;
                    const dist = Math.sqrt((mouseX - x)**2 + (mouseY - y)**2);
                    if (dist < 20) {
                        hoveredNode = s;
                    }
                });

                if (hoveredNode) {
                    canvas.style.cursor = 'pointer';
                    draw(); // Redraw to clear previous tooltips
                    const stats = popularity[hoveredNode.id];
                    const tooltipText = [
                        `${hoveredNode.id} (Math: ${hoveredNode.math})`,
                        `In-Degree: ${stats.in}`,
                        `Out-Degree: ${stats.out}`,
                        `Popularity: ${stats.neighbors.size}`
                    ];
                    
                    // Draw tooltip
                    ctx.fillStyle = 'rgba(0, 0, 0, 0.75)';
                    const tooltipWidth = 150;
                    const tooltipHeight = 80;
                    let tooltipX = mouseX + 15;
                    let tooltipY = mouseY + 15;
                    if (tooltipX + tooltipWidth > canvas.width) tooltipX -= (tooltipWidth + 30);
                    if (tooltipY + tooltipHeight > canvas.height) tooltipY -= (tooltipHeight + 30);

                    ctx.fillRect(tooltipX, tooltipY, tooltipWidth, tooltipHeight);
                    
                    ctx.fillStyle = 'white';
                    ctx.font = '12px Inter';
                    ctx.textAlign = 'left';
                    ctx.textBaseline = 'top';
                    tooltipText.forEach((text, i) => {
                        ctx.fillText(text, tooltipX + 10, tooltipY + 10 + i * 18);
                    });

                } else {
                    canvas.style.cursor = 'default';
                    draw(); // Redraw to clear tooltip
                }
            });

            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();


            // --- Quiz Logic ---
            const quizData = [
                {
                    question: "According to the guide, what is the main criterion for a student to be considered 'popular'?",
                    answers: [
                        "They have the highest marks.",
                        "They have the most unique connections (neighbors).",
                        "They only receive mentoring (high in-degree).",
                        "They only give mentoring (high out-degree)."
                    ],
                    correct: 1,
                    explanation: "A 'popular' student is defined by the total number of unique students they can interact with, which means having the most neighbors (highest total degree) in the graph."
                },
                {
                    question: "In the mentorship graph, what does an 'in-degree' of 0 for a student imply about their marks in that subject?",
                    answers: [
                        "They have average marks.",
                        "They have the lowest marks.",
                        "They have the highest marks.",
                        "Their marks are irrelevant."
                    ],
                    correct: 2,
                    explanation: "An in-degree of 0 means no one can mentor them. This happens when they have the highest marks, as no other student's score is 10-20 points above theirs."
                },
                {
                    question: "Why are students with 'middle-range' marks often the most popular?",
                    answers: [
                        "They are ignored by both top and bottom students.",
                        "They can only mentor others, not receive help.",
                        "They can both mentor students below them and be mentored by students above them.",
                        "The rules of popularity don't apply to them."
                    ],
                    correct: 2,
                    explanation: "Middle-range students are perfectly positioned to form connections in both directions: they can be mentored by high-scorers (increasing in-degree) and can mentor low-scorers (increasing out-degree), maximizing their total connections."
                },
                {
                    question: "What is the main goal of finding 'popular' students from a network analysis perspective?",
                    answers: [
                        "To rank students academically.",
                        "To identify key 'hubs' or connectors in the student network.",
                        "To form exclusive study cliques.",
                        "To prove that graphs are better than lists."
                    ],
                    correct: 1,
                    explanation: "This exercise is a form of social network analysis. Identifying 'popular' students is about finding the central nodes ('hubs') who are vital for connecting different parts of the network and helping information (or study help) flow."
                }
            ];

            const quizContainer = document.getElementById('quiz-container');

            quizData.forEach((qData, qIndex) => {
                const questionEl = document.createElement('div');
                questionEl.innerHTML = `
                    <p class="font-semibold text-lg text-slate-800 mb-4">${qIndex + 1}. ${qData.question}</p>
                    <div class="space-y-3">
                        ${qData.answers.map((answer, aIndex) => `
                            <label class="flex items-center p-3 border rounded-lg hover:bg-slate-100 cursor-pointer transition-colors has-[:checked]:bg-blue-50 has-[:checked]:border-blue-400">
                                <input type="radio" name="q${qIndex}" value="${aIndex}" class="mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                                <span class="text-slate-700">${answer}</span>
                            </label>
                        `).join('')}
                    </div>
                    <div id="feedback-${qIndex}" class="mt-3 p-3 rounded-lg text-sm hidden"></div>
                `;
                quizContainer.appendChild(questionEl);
            });

            quizContainer.addEventListener('change', (e) => {
                if (e.target.type === 'radio') {
                    const qIndex = parseInt(e.target.name.substring(1));
                    const selectedAnswer = parseInt(e.target.value);
                    const feedbackEl = document.getElementById(`feedback-${qIndex}`);
                    const qData = quizData[qIndex];

                    const allRadios = document.querySelectorAll(`input[name="q${qIndex}"]`);
                    allRadios.forEach(radio => radio.disabled = true);
                    
                    if (selectedAnswer === qData.correct) {
                        feedbackEl.innerHTML = `<strong class="font-bold">Correct!</strong> ${qData.explanation}`;
                        feedbackEl.className = 'mt-3 p-3 rounded-lg text-sm bg-green-100 text-green-800 border border-green-200';
                    } else {
                        feedbackEl.innerHTML = `<strong class="font-bold">Not quite.</strong> ${qData.explanation}`;
                        feedbackEl.className = 'mt-3 p-3 rounded-lg text-sm bg-red-100 text-red-800 border border-red-200';
                    }
                    feedbackEl.classList.remove('hidden');
                }
            });
        });
    </script>
</body>
</html>
<!-- 
Learning Guide Compliance Report
Overall Assessment: Learning Objective Compliance: PASS
Justification Checklist:
✔ Definition of Popularity Covered: Yes - Explained in the 'Who is a 'Popular' Student?' section and reinforced by the interactive simulator and quiz.
✔ In-degree/Out-degree Concepts Covered: Yes - Defined in the 'Measuring Connections: In-Degree & Out-Degree' section and visualized in the simulator.
✔ Role of Middle-Range Students Covered: Yes - Explained in the 'Why Middle-Range Wins' section.
✔ Network Analysis Goal Covered: Yes - The introduction and a dedicated quiz question frame the exercise as finding central 'hubs' in a network.
-->
