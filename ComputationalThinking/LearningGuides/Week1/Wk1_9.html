<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Guide: Transformation of Sub-datatypes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4f46e5;
            --primary-hover: #4338ca;
            --secondary-color: #10b981;
            --incorrect-color: #ef4444;
            --correct-color: #22c55e;
            --sidebar-bg: #1f2937;
            --main-bg: #f9fafb;
            --text-color: #111827;
        }
        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-color);
            background-color: var(--main-bg);
        }
        #sidebar {
            transition: transform 0.3s ease-in-out;
        }
        .sidebar-link {
            transition: all 0.2s ease-in-out;
            border-left: 3px solid transparent;
        }
        .sidebar-link.active, .sidebar-link:hover {
            background-color: #374151;
            color: white;
            border-left-color: var(--primary-color);
        }
        @media (max-width: 1024px) {
            #sidebar.hidden-mobile {
                transform: translateX(-100%);
            }
        }
        h2 {
            font-size: 1.875rem;
            font-weight: 700;
            color: var(--primary-color);
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #374151;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .quiz-question {
            border: 1px solid #e5e7eb;
        }
        .quiz-question.correct {
            border-left: 5px solid var(--correct-color);
        }
        .quiz-question.incorrect {
            border-left: 5px solid var(--incorrect-color);
        }
        .quiz-feedback {
            display: none;
            margin-top: 1rem;
            padding: 0.75rem;
            border-radius: 0.375rem;
        }
        .quiz-feedback.correct {
            background-color: #dcfce7;
            color: #166534;
        }
        .quiz-feedback.incorrect {
            background-color: #fee2e2;
            color: #991b1b;
        }
        /* Interactive Transformer */
        .transformer-input {
            border: 2px solid #d1d5db;
            border-radius: 0.5rem;
            padding: 0.5rem 1rem;
            transition: border-color 0.2s;
        }
        .transformer-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        .transformer-output {
            background-color: #f3f4f6;
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            font-weight: 600;
            color: var(--primary-color);
            min-height: 44px;
        }
    </style>
</head>
<body class="bg-gray-50">

    <button id="menu-btn" class="lg:hidden fixed top-4 left-4 z-30 bg-white p-2 rounded-md shadow-lg">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
    </button>

    <aside id="sidebar" class="bg-gray-800 text-gray-300 w-64 min-h-screen fixed top-0 left-0 z-20 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out">
        <div class="p-4">
            <h1 class="text-white text-2xl font-bold">CT Guide</h1>
            <p class="text-sm text-gray-400">Transformation of Subtypes</p>
        </div>
        <nav id="nav-links" class="mt-4 flex flex-col">
            <a href="#intro" class="sidebar-link py-2 px-4">Introduction to Transformation</a>
            <a href="#transforming-dates" class="sidebar-link py-2 px-4">1. Transforming Dates</a>
            <a href="#transforming-fractions" class="sidebar-link py-2 px-4">2. Transforming Fractional Numbers</a>
            <a href="#interactive-transformer" class="sidebar-link py-2 px-4">3. Interactive Data Transformer</a>
            <a href="#quiz" class="sidebar-link py-2 px-4">4. Knowledge Check</a>
        </nav>
    </aside>

    <main id="main-content" class="lg:ml-64 p-4 md:p-8">
        
        <section id="intro" class="card">
            <h2>Introduction: Making Data Computable</h2>
            <p class="mb-4 text-lg">Sometimes, data isn't in the most convenient format for computation. A date like "15th August" is easy for us to read, but a computer can't easily tell if it comes before "1st September". Similarly, a mark like "62.5" isn't a simple integer, which can complicate calculations.</p>
            <p><strong>Data transformation</strong> is a powerful technique where we convert data from one format to another to make it easier to work with. By cleverly changing how we represent the data internally, we can use the simple, powerful operations of basic data types (like Integers) to solve more complex problems. The key is to be able to transform the data back to its original, human-readable format for display.</p>
        </section>

        <section id="transforming-dates" class="card">
            <h2>1. Transforming Dates</h2>
            <p class="mb-4">A date like "15th August" is a String, which is difficult to use for comparisons. To solve this, we can transform it into an Integer subtype.</p>
            <div class="bg-indigo-50 border-l-4 border-indigo-500 text-indigo-700 p-4 rounded-md">
                <p class="font-bold">The Transformation Method</p>
                <p>We represent each date as the number of days that have passed since the beginning of the year. We define January 1st as day 0.</p>
            </div>
            <h3 class="mt-6">Example: "15th August"</h3>
            <p>To find the integer value for "15th August" in a non-leap year, we sum the number of days in the months before it, and add the days in August:</p>
            <ul class="list-disc list-inside mt-2 ml-4 text-gray-700">
                <li><strong>Days before August:</strong> Jan(31) + Feb(28) + Mar(31) + Apr(30) + May(31) + Jun(30) + Jul(31) = 212 days.</li>
                <li><strong>Days in August:</strong> Since Jan 1st is day 0, August 15th is day 14 of August.</li>
                <li><strong>Total Value:</strong> 212 (days before) + 14 (days in August) = <strong>226</strong>.</li>
            </ul>
            <p class="mt-4">Now we can easily compare dates. For example, "1st September" would have a higher integer value than 226, so the computer knows it comes later in the year.</p>
        </section>

        <section id="transforming-fractions" class="card">
            <h2>2. Transforming Fractional Numbers</h2>
            <p class="mb-4">Data like prices (Rs. 27.50) or marks with decimals (70.5) are not integers. While programming languages have special types for these (like 'Float'), we can often handle them with a simple integer transformation, especially if we know the maximum number of decimal places.</p>
            <div class="bg-emerald-50 border-l-4 border-emerald-500 text-emerald-700 p-4 rounded-md">
                <p class="font-bold">The Transformation Method</p>
                <p>We multiply the fractional number by a power of 10 to eliminate the decimal point. For data with up to two decimal places, we multiply by 100.</p>
            </div>
            <h3 class="mt-6">Example: Marks and Print Operations</h3>
            <ul class="list-disc list-inside mt-2 ml-4 text-gray-700">
                <li>To store a mark of <strong>70.5</strong>, we transform it: 70.5 * 100 = <strong>7050</strong>. We now store 7050 as an integer.</li>
                <li>We can perform all our calculations (like summing marks) with these scaled integers.</li>
                <li>When we need to display the result, we define a special `print` operation that transforms it back. For the stored integer 7050, `print(7050)` would perform the calculation 7050 / 100 and display the string <strong>"70.5"</strong>.</li>
            </ul>
        </section>

        <section id="interactive-transformer" class="card">
            <h2>3. Interactive Data Transformer</h2>
            <p class="mb-6">Try transforming data yourself! Enter a value in one of the boxes below and see its transformed equivalent. This demonstrates how data can be represented differently for computation versus display.</p>
            <div class="bg-white p-6 rounded-lg shadow-inner border space-y-6">
                <!-- Date Transformer -->
                <div>
                    <h3 class="text-xl font-bold mt-0 mb-4 text-center">Date Transformer (Non-Leap Year)</h3>
                    <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-center">
                        <div class="md:col-span-2">
                            <label for="date-input" class="block mb-1 font-semibold">Date (e.g., 15 Aug)</label>
                            <input type="text" id="date-input" class="transformer-input w-full" placeholder="15 Aug">
                        </div>
                        <div class="text-center font-bold text-2xl">&harr;</div>
                        <div class="md:col-span-2">
                            <label class="block mb-1 font-semibold">Integer Value (Day of Year)</label>
                            <div id="date-output" class="transformer-output"></div>
                        </div>
                    </div>
                </div>
                <!-- Mark Transformer -->
                <div>
                    <h3 class="text-xl font-bold mt-0 mb-4 text-center">Fractional Mark Transformer</h3>
                    <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-center">
                        <div class="md:col-span-2">
                            <label for="mark-input" class="block mb-1 font-semibold">Mark (e.g., 70.5)</label>
                            <input type="number" id="mark-input" class="transformer-input w-full" placeholder="70.5">
                        </div>
                        <div class="text-center font-bold text-2xl">&harr;</div>
                        <div class="md:col-span-2">
                            <label class="block mb-1 font-semibold">Stored Integer Value</label>
                            <div id="mark-output" class="transformer-output"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="quiz" class="card">
            <h2>4. Knowledge Check</h2>
            <p class="mb-6">Test your understanding of data transformation.</p>
            <div id="quiz-container" class="space-y-6"></div>
        </section>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Sidebar Logic ---
            const sidebar = document.getElementById('sidebar');
            const menuBtn = document.getElementById('menu-btn');
            const navLinks = document.querySelectorAll('.sidebar-link');
            const sections = document.querySelectorAll('main section');
            menuBtn.addEventListener('click', () => sidebar.classList.toggle('-translate-x-full'));
            navLinks.forEach(link => {
                link.addEventListener('click', () => { if (window.innerWidth < 1024) sidebar.classList.add('-translate-x-full'); });
            });
            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => { if (pageYOffset >= section.offsetTop - 100) current = section.getAttribute('id'); });
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === current) link.classList.add('active');
                });
            });

            // --- Interactive Transformer Logic ---
            const dateInput = document.getElementById('date-input');
            const dateOutput = document.getElementById('date-output');
            const markInput = document.getElementById('mark-input');
            const markOutput = document.getElementById('mark-output');

            const monthDays = { jan: 31, feb: 28, mar: 31, apr: 30, may: 31, jun: 30, jul: 31, aug: 31, sep: 30, oct: 31, nov: 30, dec: 31 };
            const monthOrder = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];

            dateInput.addEventListener('input', () => {
                const input = dateInput.value.toLowerCase().trim();
                const parts = input.split(' ');
                if (parts.length === 2) {
                    const day = parseInt(parts[0]);
                    const month = parts[1].substring(0, 3);
                    if (!isNaN(day) && monthOrder.includes(month)) {
                        let dayOfYear = 0;
                        for (let i = 0; i < monthOrder.indexOf(month); i++) {
                            dayOfYear += monthDays[monthOrder[i]];
                        }
                        dayOfYear += day - 1;
                        dateOutput.textContent = dayOfYear;
                        return;
                    }
                }
                dateOutput.textContent = 'Invalid format';
            });

            markInput.addEventListener('input', () => {
                const value = parseFloat(markInput.value);
                if (!isNaN(value)) {
                    markOutput.textContent = Math.round(value * 100);
                } else {
                    markOutput.textContent = '';
                }
            });

            // --- Quiz Logic ---
            const quizData = [
                {
                    question: "If Date is transformed into a subtype of the integer datatype using the method mentioned in the lecture, what would be the value of “15th August” in a non-leap year?",
                    type: 'single',
                    options: ["226", "227", "212", "15"],
                    correctAnswer: "226",
                    explanation: "Correct. The days in the months before August sum to 212. Since counting starts from day 0, the 15th day of a month is represented by 14. So, 212 + 14 = 226."
                },
                {
                    question: "After transforming Marks into a subtype of the integer datatype using the steps mentioned in the lecture, what would be the result of the operation print(7050)?",
                    type: 'single',
                    options: ["“7050”", "“70.5”", "“7.050”", "“705.0”"],
                    correctAnswer: "“70.5”",
                    explanation: "Correct. The `print` operation transforms the stored integer back to its original format by dividing by 100, so 7050 becomes 70.5."
                },
                {
                    question: "What is the primary reason to transform a data subtype?",
                    type: 'single',
                    options: ["To make the data easier for humans to read.", "To make the data easier to perform computations on.", "To reduce the amount of memory the data uses.", "To change the data into a completely different value."],
                    correctAnswer: "To make the data easier to perform computations on.",
                    explanation: "Transformation allows us to use the simple and powerful operations of basic data types (like integer comparison) on more complex data concepts (like dates)."
                },
                {
                    question: "If we transform fractional prices by multiplying by 100, how would a price of Rs. 52.75 be stored as an integer?",
                    type: 'single',
                    options: ["52", "53", "5275", "52.75"],
                    correctAnswer: "5275",
                    explanation: "The transformation is 52.75 * 100, which results in the integer 5275."
                },
                {
                    question: "Using the date transformation method (Jan 1st = day 0), what is the integer value of '1st February' in a non-leap year?",
                    type: 'single',
                    options: ["30", "31", "32", "1"],
                    correctAnswer: "31",
                    explanation: "January has 31 days. Since Jan 1st is day 0, Jan 31st is day 30. Therefore, the next day, Feb 1st, is day 31."
                },
                {
                    question: "True or False: Data transformation is a one-way process; once data is transformed, it cannot be converted back to its original format for display.",
                    type: 'true-false',
                    options: ["True", "False"],
                    correctAnswer: "False",
                    explanation: "False. A key part of transformation is having a process (like a special `print` operation) to reverse the transformation so the data can be displayed in a human-readable format."
                }
            ];

            const quizContainer = document.getElementById('quiz-container');
            quizData.forEach((q, index) => {
                const questionElem = document.createElement('div');
                questionElem.className = 'quiz-question card p-6';
                let optionsHtml = '';
                if (q.type === 'single' || q.type === 'true-false') {
                    optionsHtml = q.options.map(opt => `<label class="block mb-2"><input type="radio" name="q${index}" value="${opt}" class="mr-2">${opt}</label>`).join('');
                } else if (q.type === 'multiple') {
                     optionsHtml = q.options.map(opt => `<label class="block mb-2"><input type="checkbox" name="q${index}" value="${opt}" class="mr-2">${opt}</label>`).join('');
                }
                questionElem.innerHTML = `<p class="font-semibold mb-4">${index + 1}. ${q.question}</p><div class="options-container">${optionsHtml}</div><button class="submit-btn mt-4 px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600">Submit</button><div class="quiz-feedback"><p class="font-bold feedback-title"></p><p class="feedback-text">${q.explanation}</p></div>`;
                quizContainer.appendChild(questionElem);
                questionElem.querySelector('.submit-btn').addEventListener('click', e => {
                    e.target.disabled = true;
                    const feedbackElem = questionElem.querySelector('.quiz-feedback');
                    const feedbackTitle = questionElem.querySelector('.feedback-title');
                    let isCorrect = false;
                    if (q.type === 'single' || q.type === 'true-false') {
                        const selected = questionElem.querySelector(`input[name="q${index}"]:checked`);
                        if (selected && selected.value === q.correctAnswer) isCorrect = true;
                    } else if (q.type === 'multiple') {
                        const selected = Array.from(questionElem.querySelectorAll(`input[name="q${index}"]:checked`)).map(el => el.value);
                        if (selected.length === q.correctAnswer.length && selected.every(val => q.correctAnswer.includes(val))) isCorrect = true;
                    }
                    if (isCorrect) {
                        questionElem.classList.add('correct');
                        feedbackElem.classList.add('correct');
                        feedbackTitle.textContent = 'Correct!';
                    } else {
                        questionElem.classList.add('incorrect');
                        feedbackElem.classList.add('incorrect');
                        feedbackTitle.textContent = 'Incorrect';
                    }
                    feedbackElem.style.display = 'block';
                    questionElem.querySelectorAll('input').forEach(input => input.disabled = true);
                });
            });
        });
    </script>
</body>
</html>
