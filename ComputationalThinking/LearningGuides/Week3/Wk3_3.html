<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L3.3: Hypothesis Verification</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .sidebar-link.active {
            background-color: #e0f2fe; /* sky-100 */
            color: #0c4a6e; /* sky-900 */
            font-weight: 600;
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9; /* slate-100 */
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; /* slate-300 */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; /* slate-400 */
        }
        .quiz-option.correct {
            background-color: #dcfce7; /* green-100 */
            border-color: #22c55e; /* green-500 */
        }
        .quiz-option.incorrect {
            background-color: #fee2e2; /* red-100 */
            border-color: #ef4444; /* red-500 */
        }
        .feedback {
            display: none;
            padding: 0.75rem;
            margin-top: 0.75rem;
            border-radius: 0.5rem;
        }
        .feedback.correct {
            display: block;
            background-color: #f0fdf4; /* green-50 */
            color: #15803d; /* green-800 */
        }
        .feedback.incorrect {
            display: block;
            background-color: #fef2f2; /* red-50 */
            color: #b91c1c; /* red-800 */
        }
        .table-cell {
            border: 1px solid #cbd5e1;
            padding: 0.75rem;
            text-align: center;
            min-height: 8rem;
        }
        .confirming { background-color: #f0fdf4; }
        .refuting { background-color: #fef2f2; }
    </style>
</head>
<body class="text-slate-800">

    <!-- Mobile Header with Hamburger Menu -->
    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-40 lg:hidden flex items-center justify-between p-4">
        <h1 class="text-lg font-bold text-sky-800">Learning Guide</h1>
        <button id="hamburger-btn" class="p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
        </button>
    </header>

    <div class="flex">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="bg-white w-64 fixed inset-y-0 left-0 transform -translate-x-full lg:translate-x-0 lg:sticky lg:top-0 h-screen transition-transform duration-300 ease-in-out z-50 shadow-lg lg:shadow-none border-r border-slate-200">
            <div class="p-6">
                <h2 class="text-xl font-bold text-sky-800 mb-6">L3.3: Hypothesis Verification</h2>
                <nav>
                    <ul id="nav-links" class="space-y-2">
                        <li><a href="#intro" class="sidebar-link block px-4 py-2 rounded-md text-slate-600 hover:bg-sky-50 transition-colors">Introduction</a></li>
                        <li><a href="#hypothesis" class="sidebar-link block px-4 py-2 rounded-md text-slate-600 hover:bg-sky-50 transition-colors">Forming a Hypothesis</a></li>
                        <li><a href="#criteria" class="sidebar-link block px-4 py-2 rounded-md text-slate-600 hover:bg-sky-50 transition-colors">Defining Clear Criteria</a></li>
                        <li><a href="#verification" class="sidebar-link block px-4 py-2 rounded-md text-slate-600 hover:bg-sky-50 transition-colors">Systematic Verification</a></li>
                        <li><a href="#interactive-sim" class="sidebar-link block px-4 py-2 rounded-md text-slate-600 hover:bg-sky-50 transition-colors">Interactive Verifier</a></li>
                        <li><a href="#quiz" class="sidebar-link block px-4 py-2 rounded-md text-slate-600 hover:bg-sky-50 transition-colors">Knowledge Check</a></li>
                    </ul>
                </nav>
            </div>
        </aside>

        <!-- Main Content -->
        <main id="main-content" class="flex-1 p-6 md:p-10 lg:p-12 bg-slate-50 min-h-screen lg:h-screen lg:overflow-y-auto">
            <div class="max-w-4xl mx-auto">

                <!-- Introduction Section -->
                <section id="intro" class="mb-12">
                    <h2 class="text-3xl font-bold text-sky-900 mb-4 border-b-2 border-sky-200 pb-2">From Hunches to Facts 🤔</h2>
                    <p class="text-lg text-slate-700 mb-4">
                        As we work with data, we often develop hunches or ideas about relationships within it. "I bet longer words are used less often," or "I think students who are good at Math are also good at Physics." These ideas are called <strong>hypotheses</strong>.
                    </p>
                    <p class="text-lg text-slate-700">
                        Computational thinking gives us a powerful way to move beyond simple guessing. We can create a systematic process to verify (or refute) our hypotheses using the data itself. This section shows how to formalize this process.
                    </p>
                </section>

                <!-- Hypothesis Section -->
                <section id="hypothesis" class="mb-12">
                    <h2 class="text-3xl font-bold text-sky-900 mb-4 border-b-2 border-sky-200 pb-2">Forming a Hypothesis</h2>
                    <p class="text-lg text-slate-700 mb-4">
                        Let's look at our "Paragraph Words" dataset. After counting word frequencies, we might notice that many of the most common words ("the", "it", "was", "and") are quite short. This leads to a natural hypothesis.
                    </p>
                     <div class="bg-sky-100 border-l-4 border-sky-500 text-sky-800 p-4 rounded-r-lg my-6">
                        <p class="font-semibold">Hypothesis:</p>
                        <p>There is a relationship between a word's length and its frequency. Specifically: <strong>high-frequency words are short</strong>, and conversely, <strong>low-frequency words are long</strong>.</p>
                    </div>
                </section>

                <!-- Criteria Section -->
                <section id="criteria" class="mb-12">
                    <h2 class="text-3xl font-bold text-sky-900 mb-4 border-b-2 border-sky-200 pb-2">Defining Clear Criteria</h2>
                    <p class="text-lg text-slate-700 mb-4">
                        A hypothesis is useless until we define our terms precisely. What do we mean by "high frequency" or "short"? We need objective, data-driven definitions.
                    </p>
                    <ul class="list-disc list-inside space-y-4 text-lg text-slate-700">
                        <li>
                            <strong>Frequency:</strong> We can define this with a simple threshold. For our paragraph, let's say "High Frequency" means a word appears more than once, and "Low Frequency" means it appears exactly once. This requires a full iteration to count all word frequencies first.
                        </li>
                        <li>
                            <strong>Length:</strong> A good way to define "Short" vs. "Long" is to use the <strong>average word length</strong>. We can calculate this by summing the lengths of all words and dividing by the total number of words. Any word with a length less than or equal to the average is "Short", and any word with a length greater than the average is "Long". This also requires a full iteration.
                        </li>
                    </ul>
                </section>

                <!-- Verification Section -->
                <section id="verification" class="mb-12">
                    <h2 class="text-3xl font-bold text-sky-900 mb-4 border-b-2 border-sky-200 pb-2">Systematic Verification with a 2x2 Table</h2>
                    <p class="text-lg text-slate-700 mb-4">
                        Once we have our criteria, we can test our hypothesis systematically. A two-by-two table is a perfect tool for this. We iterate through our list of unique words and place each one into one of four categories:
                    </p>
                    <div class="bg-white p-4 rounded-xl shadow-md my-6">
                        <div class="grid grid-cols-3">
                            <div></div>
                            <div class="font-bold text-center p-2">Short</div>
                            <div class="font-bold text-center p-2">Long</div>
                            <div class="font-bold p-2 text-right">High Frequency</div>
                            <div class="table-cell confirming">Confirming Hypothesis</div>
                            <div class="table-cell refuting">Refuting Hypothesis</div>
                            <div class="font-bold p-2 text-right">Low Frequency</div>
                            <div class="table-cell refuting">Refuting Hypothesis</div>
                            <div class="table-cell confirming">Confirming Hypothesis</div>
                        </div>
                    </div>
                     <p class="text-lg text-slate-700">
                        By counting the number of words in each box, we can see how well the data supports our idea. If most words fall into the green "Confirming" boxes, our hypothesis is strong. If many words fall into the red "Refuting" boxes, our hypothesis is weak or incorrect.
                    </p>
                </section>

                <!-- Interactive Simulator Section -->
                <section id="interactive-sim" class="mb-12">
                    <h2 class="text-3xl font-bold text-sky-900 mb-4 border-b-2 border-sky-200 pb-2">⚙️ Interactive Hypothesis Verifier</h2>
                    <p class="text-lg text-slate-700 mb-6">
                        This simulator will analyze a small paragraph. First, it will perform the necessary iterations to calculate frequencies and average length. Then, it will categorize each unique word into the 2x2 table to verify our hypothesis.
                    </p>
                    <div class="bg-white p-6 rounded-xl shadow-md">
                        <div class="flex justify-center space-x-4 mb-4">
                            <button id="start-sim-btn" class="px-6 py-2 bg-sky-600 text-white font-semibold rounded-lg shadow-md hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-opacity-75 transition-colors">Verify Hypothesis</button>
                            <button id="reset-sim-btn" class="px-6 py-2 bg-slate-500 text-white font-semibold rounded-lg shadow-md hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-opacity-75 transition-colors">Reset</button>
                        </div>
                        <div id="sim-status" class="text-center font-semibold text-lg h-8 mb-4 text-slate-700">Press 'Verify Hypothesis' to begin.</div>
                         <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-start">
                            <div class="md:col-span-1 space-y-4">
                                <h4 class="font-bold text-center">Calculated Criteria</h4>
                                <div class="text-center p-2 bg-slate-100 rounded">Freq > 1 = <b>High</b></div>
                                <div id="avg-length-display" class="text-center p-2 bg-slate-100 rounded">Avg. Length: <b>-</b></div>
                            </div>
                            <div class="md:col-span-2">
                                <h4 class="font-bold text-center mb-2">Verification Table</h4>
                                <div class="grid grid-cols-3 text-sm">
                                    <div></div>
                                    <div class="font-bold text-center p-2">Short</div>
                                    <div class="font-bold text-center p-2">Long</div>
                                    <div class="font-bold p-2 text-right self-center">High Freq.</div>
                                    <div id="cell-hs" class="table-cell confirming flex flex-col items-center justify-center"></div>
                                    <div id="cell-hl" class="table-cell refuting flex flex-col items-center justify-center"></div>
                                    <div class="font-bold p-2 text-right self-center">Low Freq.</div>
                                    <div id="cell-ls" class="table-cell refuting flex flex-col items-center justify-center"></div>
                                    <div id="cell-ll" class="table-cell confirming flex flex-col items-center justify-center"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Quiz Section -->
                <section id="quiz">
                    <h2 class="text-3xl font-bold text-sky-900 mb-4 border-b-2 border-sky-200 pb-2">🧠 Knowledge Check</h2>
                    <p class="text-lg text-slate-700 mb-8">
                        Test your understanding of hypothesis verification.
                    </p>
                    <div id="quiz-container" class="space-y-8"></div>
                </section>

            </div>
        </main>
    </div>

    <script>
        // --- Sidebar and Scroll Logic ---
        const hamburgerBtn = document.getElementById('hamburger-btn');
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('main-content');
        const navLinks = document.getElementById('nav-links');

        hamburgerBtn.addEventListener('click', () => sidebar.classList.toggle('-translate-x-full'));
        navLinks.addEventListener('click', (e) => {
            if (e.target.tagName === 'A' && window.innerWidth < 1024) {
                sidebar.classList.add('-translate-x-full');
            }
        });
        
        const sections = document.querySelectorAll('section');
        const links = document.querySelectorAll('.sidebar-link');
        mainContent.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                if (mainContent.scrollTop >= section.offsetTop - 100) {
                    current = section.getAttribute('id');
                }
            });
            links.forEach(link => {
                link.classList.toggle('active', link.getAttribute('href') === `#${current}`);
            });
        });

        // --- Interactive Simulator Logic ---
        const startSimBtn = document.getElementById('start-sim-btn');
        const resetSimBtn = document.getElementById('reset-sim-btn');
        const simStatus = document.getElementById('sim-status');
        const avgLengthDisplay = document.getElementById('avg-length-display');
        const cell_hs = document.getElementById('cell-hs');
        const cell_hl = document.getElementById('cell-hl');
        const cell_ls = document.getElementById('cell-ls');
        const cell_ll = document.getElementById('cell-ll');

        const paragraph = "a short sentence and a very very long word".split(' ');
        
        function resetSimulator() {
            simStatus.textContent = "Press 'Verify Hypothesis' to begin.";
            avgLengthDisplay.innerHTML = 'Avg. Length: <b>-</b>';
            [cell_hs, cell_hl, cell_ls, cell_ll].forEach(c => c.innerHTML = '');
            startSimBtn.disabled = false;
        }

        startSimBtn.addEventListener('click', () => {
            startSimBtn.disabled = true;
            simStatus.textContent = "Calculating stats...";

            // Pass 1: Calculate frequencies and average length
            const frequencies = {};
            let totalLength = 0;
            paragraph.forEach(word => {
                frequencies[word] = (frequencies[word] || 0) + 1;
                totalLength += word.length;
            });
            const avgLength = totalLength / paragraph.length;
            
            avgLengthDisplay.innerHTML = `Avg. Length: <b>${avgLength.toFixed(1)}</b> (Short ≤ ${Math.floor(avgLength)})`;

            // Pass 2: Categorize
            setTimeout(() => {
                simStatus.textContent = "Categorizing words...";
                const uniqueWords = Object.keys(frequencies);
                uniqueWords.forEach(word => {
                    const isHighFreq = frequencies[word] > 1;
                    const isLong = word.length > avgLength;

                    let targetCell;
                    if (isHighFreq && !isLong) targetCell = cell_hs;
                    else if (isHighFreq && isLong) targetCell = cell_hl;
                    else if (!isHighFreq && !isLong) targetCell = cell_ls;
                    else targetCell = cell_ll;

                    const wordEl = document.createElement('span');
                    wordEl.className = 'px-1.5 py-0.5 bg-white rounded shadow-sm m-0.5';
                    wordEl.textContent = word;
                    targetCell.appendChild(wordEl);
                });
                simStatus.textContent = "Verification Complete!";
            }, 1500);
        });

        resetSimBtn.addEventListener('click', resetSimulator);
        
        // --- Quiz Logic ---
        const quizContainer = document.getElementById('quiz-container');
        const quizData = [
            { question: "Select all statements that form a part of the hypothesis discussed in the lecture. (MSQ)", options: ["High frequency words are short", "Low Frequency words are short", "Low frequency words are long", "High frequency words are long"], correct: ["High frequency words are short", "Low frequency words are long"], type: "multiple", explanation: "The hypothesis proposes a two-part relationship: that frequency and length are inversely correlated." },
            { question: "What are the criteria used to decide if a word is short or long? (MSQ)", options: ["A word is long if it takes a long time to type", "A word is short if can be read in under half a second", "A word is long if its letter count is six or above", "A word is short if it has at most five characters"], correct: ["A word is long if its letter count is six or above", "A word is short if it has at most five characters"], type: "multiple", explanation: "The lecture defined the cutoff based on the calculated average word length, which was approximately 5. Words with 6 or more letters were 'long', and words with 5 or fewer were 'short'." },
            { question: "A paragraph has 100 words, categorized as: High/Long: 20, Low/Long: 2, High/Short: 60, Low/Short: 18. What percentage of high frequency words confirm the hypothesis that high frequency words are short?", options: ["75", "25", "60", "40"], correct: ["75"], type: "single", explanation: "Total high frequency words = 20 + 60 = 80. The number that are short (confirming) is 60. So, 60 / 80 = 0.75, which is 75%." },
            { question: "Using the same table, what percentage of low frequency words reject the hypothesis that low frequency words are long?", options: ["90", "10", "60", "40"], correct: ["90"], type: "single", explanation: "Total low frequency words = 2 + 18 = 20. The number that are short (rejecting/refuting) is 18. So, 18 / 20 = 0.90, which is 90%." },
            { question: "In a pseudocode calculating average word length, what does the variable `avgI` inside the `while` loop store?", image: "https://i.imgur.com/8Qj8E7x.png", options: ["Average length of all words in the paragraph", "Average length of all words moved to Pile-2", "Average length of all words remaining in Pile-1", "It does not store anything meaningful"], correct: ["Average length of all words moved to Pile-2"], type: "single", explanation: "`avgI` is recalculated inside the loop, so at each step it represents the average of only the words processed so far (those moved to Pile-2)." },
            { question: "After the code has been executed, what is the relationship between `avgI` and `avgF`?", image: "https://i.imgur.com/8Qj8E7x.png", options: ["avgI > avgF", "avgI < avgF", "avgI == avgF"], correct: ["avgI == avgF"], type: "single", explanation: "On the very last step of the loop, `avgI` is calculated using the sum and count of all cards. `avgF` is calculated immediately after the loop with the exact same sum and count. Therefore, their final values will be equal." },
            { question: "If we use a three-way classification (high/medium/low frequency and long/medium/short length), how many variables would we need to keep track of the word-counts for all combinations?", options: ["4", "6", "8", "9"], correct: ["9"], type: "single", explanation: "This creates a 3x3 table. The number of combinations (and thus variables needed) is 3 (frequency categories) * 3 (length categories) = 9." }
        ];

        function buildQuiz() {
            quizContainer.innerHTML = '';
            quizData.forEach((q, index) => {
                const isMultiple = q.type === 'multiple';
                const inputType = isMultiple ? 'checkbox' : 'radio';
                const optionsHtml = q.options.map(option => `
                    <label class="quiz-option block p-3 border-2 border-slate-200 rounded-lg hover:bg-sky-50 cursor-pointer transition-colors">
                        <input type="${inputType}" name="q${index}" value="${option}" class="mr-3">
                        ${option}
                    </label>
                `).join('');
                const imageHtml = q.image ? `<img src="${q.image}" alt="Quiz question image" class="my-4 border rounded-md">` : '';
                const questionHtml = `
                    <div class="bg-white p-6 rounded-xl shadow-sm">
                        <p class="text-lg font-semibold mb-4">${index + 1}. ${q.question}</p>
                        ${imageHtml}
                        <div class="space-y-3" id="q${index}-options">${optionsHtml}</div>
                        <div id="feedback-${index}" class="feedback"></div>
                    </div>
                `;
                quizContainer.innerHTML += questionHtml;
            });
            quizData.forEach((q, index) => {
                document.getElementById(`q${index}-options`).addEventListener('change', () => handleAnswer(q, index));
            });
        }

        function handleAnswer(questionData, questionIndex) {
            const feedbackEl = document.getElementById(`feedback-${questionIndex}`);
            const inputs = document.querySelectorAll(`input[name="q${questionIndex}"]`);
            let selectedAnswers = [];
            inputs.forEach(input => {
                if (input.checked) selectedAnswers.push(input.value);
                input.disabled = true;
            });
            let isCorrect;
            if (questionData.type === 'multiple') {
                 isCorrect = selectedAnswers.length === questionData.correct.length && selectedAnswers.every(val => questionData.correct.includes(val));
            } else {
                isCorrect = selectedAnswers.length === 1 && selectedAnswers[0] === questionData.correct[0];
            }
            
            inputs.forEach(input => {
                const label = input.parentElement;
                if (questionData.correct.includes(input.value)) {
                    label.classList.add('correct');
                } else if (input.checked) {
                    label.classList.add('incorrect');
                }
            });

            feedbackEl.innerHTML = `<strong>${isCorrect ? 'Correct!' : 'Not quite.'}</strong> ${questionData.explanation}`;
            feedbackEl.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
        }

        buildQuiz();
        resetSimulator();
    </script>
</body>
</html>
