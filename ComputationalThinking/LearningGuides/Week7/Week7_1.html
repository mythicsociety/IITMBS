<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L7.1: Examples to introduce dictionary</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .active-link {
            background-color: #1D4ED8; /* bg-blue-700 */
            color: white;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Mobile Header -->
    <header class="lg:hidden fixed top-0 left-0 right-0 bg-blue-600 text-white p-4 z-50 flex justify-between items-center shadow-md">
        <h1 class="text-xl font-bold">L7.1: Examples to introduce dictionary</h1>
        <button id="hamburger-menu" class="hamburger-icon z-50 space-y-2">
            <span class="block w-8 h-0.5 bg-white"></span>
            <span class="block w-8 h-0.5 bg-white"></span>
            <span class="block w-8 h-0.5 bg-white"></span>
        </button>
    </header>

    <div class="flex">
        <!-- Sidebar -->
        <aside id="sidebar" class="fixed top-0 left-0 h-full w-64 bg-blue-600 text-white p-6 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 lg:pt-6 pt-20 overflow-y-auto">
            <h2 class="text-2xl font-bold mb-8">Navigation</h2>
            <nav id="nav-links">
                <a href="#introduction" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700 hover:text-white">Introduction</a>
                <a href="#what-is-a-dictionary" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700 hover:text-white">What is a Dictionary?</a>
                <a href="#dictionary-operations" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700 hover:text-white">Dictionary Operations</a>
                <a href="#use-cases" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700 hover:text-white">Practical Use Cases</a>
                <a href="#interactive-example" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700 hover:text-white">Interactive Example</a>
                <a href="#summary" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700 hover:text-white">Summary</a>
                <a href="#quiz" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700 hover:text-white">Knowledge Check</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="lg:ml-64 p-6 md:p-10 w-full mt-16 lg:mt-0">
            <section id="introduction" class="mb-12 bg-white p-8 rounded-xl shadow-lg">
                <h1 class="text-4xl font-bold mb-4 text-blue-800">L7.1: Examples to introduce dictionary</h1>
                <p class="text-lg">Welcome! In our journey through computational thinking, we've often dealt with collections of data, like lists of student cards. Lists are great, but they have a limitation: to find something, you have to search through them sequentially.</p>
                <p class="text-lg mt-4">Imagine you have a student's card number and you want to know if you've "seen" it before. With a list, you'd have to check every single entry. This is inefficient. This guide introduces a more powerful type of collection—the <strong>dictionary</strong>—that solves this problem by allowing for instantaneous lookups.</p>
            </section>

            <section id="what-is-a-dictionary" class="mb-12 bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-blue-800">What is a Dictionary?</h2>
                <p class="text-lg mb-4">A dictionary is a collection that stores information as <strong>key-value pairs</strong>. Instead of accessing an item by its position (like the 5th element in a list), you access it using a unique identifier called a <strong>key</strong>.</p>
                <div class="grid md:grid-cols-2 gap-6 mt-6">
                    <div class="bg-blue-50 border-2 border-blue-200 p-6 rounded-lg shadow-sm">
                        <h3 class="text-2xl font-semibold text-blue-800">Key Concepts</h3>
                        <ul class="list-disc list-inside text-lg mt-2 pl-4 space-y-2">
                            <li><strong>Key:</strong> A unique identifier (e.g., a student's name "Rahul", a card's sequence number `2`).</li>
                            <li><strong>Value:</strong> The data associated with that key (e.g., Rahul's chemistry mark `92`, or a status `True`).</li>
                            <li><strong>Random Access:</strong> The ability to retrieve a value instantly just by knowing its key, no matter how large the dictionary is.</li>
                        </ul>
                    </div>
                    <div class="bg-green-50 border-2 border-green-200 p-6 rounded-lg shadow-sm">
                        <h3 class="text-2xl font-semibold text-green-800">An Analogy</h3>
                        <p class="text-lg mt-2">Think of a real dictionary. The words are the <strong>keys</strong>, and their definitions are the <strong>values</strong>. You don't read the dictionary from the beginning to find a word; you use the alphabetical keys to jump straight to the definition you need.</p>
                    </div>
                </div>
                 <div class="mt-8 border-l-4 border-blue-500 p-4">
                    <p class="text-lg font-semibold">Key Idea:</p>
                    <p class="text-lg">Dictionaries allow us to add new properties to our data without modifying the original data cards. We can create a dictionary to track grades, "seen" status, or any other attribute, linking it to a card's unique ID.</p>
                </div>
            </section>
            
            <section id="dictionary-operations" class="mb-12 bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-blue-800">Core Dictionary Operations (in Pseudocode)</h2>
                <div class="space-y-6">
                    <div>
                        <h3 class="text-2xl font-semibold text-gray-700">1. Initialization</h3>
                        <p class="text-lg mt-2">You almost always start with an empty dictionary. This is represented by curly braces <code>{}</code>.</p>
                        <pre class="bg-gray-800 text-white p-4 rounded-md mt-2"><code>seen = {}</code></pre>
                    </div>
                    <div>
                        <h3 class="text-2xl font-semibold text-gray-700">2. Adding & Updating Values</h3>
                        <p class="text-lg mt-2">You use the key in square brackets <code>[]</code> to assign a value. If the key doesn't exist, it's created. If it does, its value is updated.</p>
                        <pre class="bg-gray-800 text-white p-4 rounded-md mt-2"><code>// Creates a new entry for key 2 and sets its value to True
seen[2] = True

// If an entry for "Rahul" already exists, it's updated to 92
chemMarks["Rahul"] = 92</code></pre>
                    </div>
                    <div>
                        <h3 class="text-2xl font-semibold text-gray-700">3. Checking if a Key Exists</h3>
                        <p class="text-lg mt-2">Before updating a value (like a counter), you must check if the key exists. We use a procedure <code>isKey(dictionary, key)</code> for this.</p>
                         <pre class="bg-gray-800 text-white p-4 rounded-md mt-2"><code>if isKey(letterCount, n) {
    // Key exists, so increment the value
    letterCount[n] = letterCount[n] + 1
} else {
    // Key doesn't exist, so create it with a value of 1
    letterCount[n] = 1
}</code></pre>
                    </div>
                    <div>
                        <h3 class="text-2xl font-semibold text-gray-700">4. Iterating Through a Dictionary</h3>
                        <p class="text-lg mt-2">To process all entries, you first get a list of all keys using <code>keys(dictionary)</code> and then loop through that list.</p>
                        <pre class="bg-gray-800 text-white p-4 rounded-md mt-2"><code>foreach k in keys(chemMarks) {
    // Do something with the value, e.g., add it to a total
    total = total + chemMarks[k]
}</code></pre>
                    </div>
                </div>
            </section>

            <section id="use-cases" class="mb-12 bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-blue-800">Practical Use Cases from the Lecture</h2>
                <p class="text-lg mb-4">Dictionaries are incredibly versatile. Here are the key ways they were used in the discussion:</p>
                <ul class="list-disc list-inside text-lg space-y-3 mt-2 pl-4">
                    <li><strong>Tracking State (The 'Seen' Dictionary):</strong> To avoid re-processing cards in nested loops, a dictionary called <code>Seen</code> was used. The card's sequence number was the <strong>key</strong>, and the value was simply <code>True</code>, acting as a marker.</li>
                    <li><strong>Accumulating Statistics (The 'LetterCount' Dictionary):</strong> To count how many words of each length exist, a dictionary called <code>LetterCount</code> was used. The word length was the <strong>key</strong>, and the number of words with that length was the <strong>value</strong>. This is a powerful pattern for gathering statistics.</li>
                    <li><strong>Solving the Birthday Paradox:</strong> To efficiently find students with the same birthday, a dictionary used the date of birth as the <strong>key</strong>. The <strong>value</strong> was a list of student IDs, which grew as more students with that birthday were found.</li>
                </ul>
            </section>

            <section id="interactive-example" class="mb-12 bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-blue-800">Interactive Example: LetterCount Simulator</h2>
                <p class="text-lg mb-4">This simulator mimics the 'LetterCount' example from the lecture. Enter text, and it will build a dictionary to count the number of words for each word length, then visualize it as a histogram.</p>
                <div class="bg-gray-50 p-6 rounded-lg border border-gray-200">
                    <div class="mb-4">
                        <label for="word-input" class="block font-semibold mb-2">Enter Text:</label>
                        <textarea id="word-input" class="w-full p-2 border border-gray-300 rounded-md bg-white h-24" placeholder="The quick brown fox jumps over the lazy dog."></textarea>
                    </div>
                    <button id="count-words-btn" class="mt-2 bg-blue-600 text-white px-5 py-2 rounded-md hover:bg-blue-700 transition font-semibold">Generate LetterCount Dictionary</button>
                    <div id="word-count-output" class="mt-4 grid md:grid-cols-2 gap-4"></div>
                </div>
            </section>

            <section id="summary" class="mb-12 bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-blue-800">Summary</h2>
                <p class="text-lg mb-4">Dictionaries are a fundamental data structure in computational thinking.</p>
                <ul class="list-disc list-inside text-lg space-y-3 pl-4">
                    <li><strong>Beyond Lists:</strong> Dictionaries offer a way to organize and access data by a meaningful <strong>key</strong> instead of a numerical position.</li>
                    <li><strong>Efficiency is Key:</strong> Their main advantage is <strong>random access</strong>, which makes looking up information extremely fast, even with large amounts of data.</li>
                    <li><strong>Flexible and Powerful:</strong> They can be used to track properties of data (like 'seen' status), aggregate statistics (like 'letter counts'), and even store other collections (like a list of student IDs) as values.</li>
                    <li><strong>Common Pattern:</strong> A frequent use case is to initialize an empty dictionary and then populate it by iterating through another data source, using <code>isKey</code> to decide whether to create a new entry or update an existing one.</li>
                </ul>
            </section>

            <section id="quiz" class="mb-12 bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-blue-800">Knowledge Check 🧠</h2>
                <p class="text-lg mb-6">Let's test your understanding of these concepts.</p>
                <div id="quiz-container" class="space-y-8"></div>
                <div id="quiz-results" class="mt-8 text-2xl font-bold"></div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- Sidebar and navigation logic ---
            const sidebar = document.getElementById('sidebar');
            const hamburgerMenu = document.getElementById('hamburger-menu');
            const navLinks = document.querySelectorAll('#nav-links a');
            const sections = document.querySelectorAll('main section');

            hamburgerMenu.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
            });

            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth < 1024) {
                        sidebar.classList.add('-translate-x-full');
                    }
                });
            });

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('active-link');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active-link');
                            }
                        });
                    }
                });
            }, { rootMargin: "-50% 0px -50% 0px" });

            sections.forEach(section => observer.observe(section));

            // --- Interactive Word Counter Logic ---
            const wordInput = document.getElementById('word-input');
            const countBtn = document.getElementById('count-words-btn');
            const outputDiv = document.getElementById('word-count-output');

            countBtn.addEventListener('click', () => {
                const text = wordInput.value;
                if (!text.trim()) {
                    outputDiv.innerHTML = '<p class="text-red-600">Please enter some text.</p>';
                    return;
                }
                
                const words = text.trim().toLowerCase().split(/\s+/).map(w => w.replace(/[^a-z0-9]/g, ''));
                const letterCount = {};
                
                words.forEach(word => {
                    const len = word.length;
                    if (len > 0) {
                        if (letterCount[len]) {
                            letterCount[len] = letterCount[len] + 1;
                        } else {
                            letterCount[len] = 1;
                        }
                    }
                });

                let dictHTML = '<div class="bg-gray-800 text-white p-4 rounded-md"><strong>LetterCount Dictionary:</strong><br>{<br>';
                const sortedKeys = Object.keys(letterCount).sort((a, b) => a - b);
                sortedKeys.forEach(key => {
                    dictHTML += `&nbsp;&nbsp;${key}: ${letterCount[key]},<br>`;
                });
                dictHTML += '}</div>';

                const histogramHTML = `<div class="bg-gray-100 p-4 rounded-lg flex items-end justify-center h-64 border">${drawHistogram(letterCount, sortedKeys)}</div>`;
                outputDiv.innerHTML = dictHTML + histogramHTML;
            });

            function drawHistogram(data, sortedKeys) {
                const maxCount = Math.max(0, ...Object.values(data));
                const barWidth = Math.max(20, 300 / (sortedKeys.length * 2));
                let svgContent = '';

                sortedKeys.forEach((key, index) => {
                    const count = data[key];
                    const barHeight = maxCount > 0 ? (count / maxCount) * 220 : 0;
                    const x = index * (barWidth + 10);
                    const y = 220 - barHeight;
                    svgContent += `<g>
                        <rect x="${x}" y="${y}" width="${barWidth}" height="${barHeight}" fill="#2563eb" rx="2"></rect>
                        <text x="${x + barWidth / 2}" y="${y - 5}" text-anchor="middle" fill="#1e293b" font-size="12" font-weight="bold">${count}</text>
                        <text x="${x + barWidth / 2}" y="235" text-anchor="middle" fill="#475569" font-size="12">${key}</text>
                    </g>`;
                });

                return `<svg width="100%" height="100%" viewBox="0 0 ${sortedKeys.length * (barWidth + 10)} 240">${svgContent}</svg>`;
            }

            // --- Quiz Logic ---
            const quizContainer = document.getElementById('quiz-container');
            const quizResults = document.getElementById('quiz-results');
            let score = 0;

            const quizQuestions = [
                {
                    question: "In the lecture, professors are managing some information named as 'Seen'. Which of the following statements are True about 'Seen'? (Select all that apply)",
                    type: 'multiple-choice',
                    answers: ["'Seen' is actually a dictionary.", "'Seen' was empty initially.", "Whenever a card is marked as seen, the sequence number of the card is being stored in 'Seen' as values.", "Whenever a sequence number is being stored in 'Seen', it is being mapped to True."],
                    correct: ["'Seen' is actually a dictionary.", "'Seen' was empty initially.", "Whenever a sequence number is being stored in 'Seen', it is being mapped to True."],
                    explanation: "In the example, 'Seen' is used as a dictionary where the card's sequence number is the key, not the value. It's initialized as empty and a seen card's key is mapped to the value True."
                },
                {
                    question: "Which statements are True about the 'LetterCount' dictionary from the lecture? (Select all that apply)",
                    type: 'multiple-choice',
                    answers: ["It uses letters as keys.", "It was initialized as an empty dictionary.", "If a letter count 'n' is not in the dictionary, it's added as a key and mapped to 1.", "If a letter count 'n' is already in the dictionary, its mapped value is incremented."],
                    correct: ["It was initialized as an empty dictionary.", "If a letter count 'n' is not in the dictionary, it's added as a key and mapped to 1.", "If a letter count 'n' is already in the dictionary, its mapped value is incremented."],
                    explanation: "LetterCount uses word lengths (letter counts) as keys. It starts empty. For a new length, the key is added with a value of 1. For an existing length, the current value is incremented."
                },
                {
                    question: "What is the primary advantage of a dictionary over a list for finding a specific item?",
                    type: "single-choice",
                    answers: ["Dictionaries use less memory.", "Dictionaries store items in a sorted order.", "Dictionaries provide 'random access' via a key.", "Dictionaries can store more types of data."],
                    correct: ["Dictionaries provide 'random access' via a key."],
                    explanation: "The main benefit is its ability to retrieve any value in a constant amount of time using its key (random access), avoiding a sequential search."
                },
                {
                    question: "Which pseudocode snippet correctly initializes an empty dictionary named 'purchases'?",
                    type: "single-choice",
                    answers: ["purchases = []", "purchases = {}", "purchases = ()", "create dictionary purchases"],
                    correct: ["purchases = {}"],
                    explanation: "In the pseudocode shown, an empty dictionary is created using curly braces {}. Square brackets [] are for lists."
                },
                {
                    question: "The procedure `isKey(myDict, 'apple')` checks if the *value* 'apple' exists in the dictionary `myDict`.",
                    type: "true-false",
                    answers: ["True", "False"],
                    correct: ["False"],
                    explanation: "The `isKey` procedure specifically checks for the existence of a *key*, not a value."
                },
                {
                    question: "To iterate through all key-value pairs in a dictionary `d`, what is the first step?",
                    type: "single-choice",
                    answers: ["Use a `foreach` loop directly on `d`.", "Get a list of values using `values(d)`.", "Get a list of keys using `keys(d)`.", "Convert the dictionary to a list."],
                    correct: ["Get a list of keys using `keys(d)`."],
                    explanation: "You first retrieve a list of the dictionary's keys using the `keys(d)` procedure, then use a `foreach` loop on that list of keys."
                }
            ];

            function renderQuiz() {
                quizContainer.innerHTML = quizQuestions.map((q, index) => {
                    const answersHtml = q.answers.map(answer => `
                        <label class="flex items-center space-x-3 p-3 rounded-lg border border-gray-300 cursor-pointer hover:bg-gray-100 transition has-[:checked]:bg-blue-100 has-[:checked]:border-blue-400">
                            <input type="${q.type === 'multiple-choice' ? 'checkbox' : 'radio'}" name="question${index}" value="${answer}" class="form-${q.type === 'multiple-choice' ? 'checkbox' : 'radio'} h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                            <span>${answer}</span>
                        </label>
                    `).join('');
                    return `
                        <div class="quiz-question" data-question-index="${index}">
                            <p class="text-lg font-semibold mb-4">${index + 1}. ${q.question}</p>
                            <div class="space-y-3">${answersHtml}</div>
                            <button class="submit-answer mt-4 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition">Submit</button>
                            <div class="feedback mt-3"></div>
                        </div>
                    `;
                }).join('');
            }

            quizContainer.addEventListener('click', function(e) {
                if (e.target.classList.contains('submit-answer')) {
                    const questionDiv = e.target.closest('.quiz-question');
                    const index = parseInt(questionDiv.dataset.questionIndex);
                    const question = quizQuestions[index];
                    const feedbackDiv = questionDiv.querySelector('.feedback');
                    
                    const selectedAnswers = Array.from(questionDiv.querySelectorAll(`input[name="question${index}"]:checked`)).map(input => input.value);
                    
                    if (selectedAnswers.length === 0) {
                        feedbackDiv.innerHTML = `<p class="text-yellow-600 font-semibold">Please select an answer.</p>`;
                        return;
                    }

                    questionDiv.querySelectorAll('input').forEach(input => input.disabled = true);
                    e.target.disabled = true;
                    e.target.classList.add('opacity-50', 'cursor-not-allowed');

                    const isCorrect = question.type === 'multiple-choice' 
                        ? (selectedAnswers.length === question.correct.length && selectedAnswers.every(sa => question.correct.includes(sa)))
                        : (selectedAnswers[0] === question.correct[0]);

                    if (isCorrect) {
                        feedbackDiv.innerHTML = `<div class="p-4 bg-green-100 border-l-4 border-green-500 text-green-700"><p class="font-bold">✅ Correct!</p><p class="mt-1">${question.explanation}</p></div>`;
                        score++;
                    } else {
                        feedbackDiv.innerHTML = `<div class="p-4 bg-red-100 border-l-4 border-red-500 text-red-700"><p class="font-bold">❌ Incorrect.</p><p class="mt-1"><strong>Correct Answer(s):</strong> ${question.correct.join(', ')}</p><p class="mt-1">${question.explanation}</p></div>`;
                    }
                    
                    const answeredQuestions = document.querySelectorAll('.submit-answer:disabled').length;
                    if (answeredQuestions === quizQuestions.length) {
                        quizResults.innerHTML = `Quiz Complete! Your Score: ${score} / ${quizQuestions.length}`;
                    }
                }
            });

            renderQuiz();
        });
    </script>
</body>
</html>
