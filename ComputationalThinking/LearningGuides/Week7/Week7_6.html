<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L7.6: Introduction to dictionary data structure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .active-link {
            background-color: #1D4ED8; /* bg-blue-700 */
            color: white;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Mobile Header -->
    <header class="lg:hidden fixed top-0 left-0 right-0 bg-blue-600 text-white p-4 z-50 flex justify-between items-center shadow-md">
        <h1 class="text-xl font-bold">L7.6: Dictionary Intro</h1>
        <button id="hamburger-menu" class="hamburger-icon z-50 space-y-2">
            <span class="block w-8 h-0.5 bg-white"></span>
            <span class="block w-8 h-0.5 bg-white"></span>
            <span class="block w-8 h-0.5 bg-white"></span>
        </button>
    </header>

    <div class="flex">
        <!-- Sidebar -->
        <aside id="sidebar" class="fixed top-0 left-0 h-full w-64 bg-blue-600 text-white p-6 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 lg:pt-6 pt-20 overflow-y-auto">
            <h2 class="text-2xl font-bold mb-8">Navigation</h2>
            <nav id="nav-links">
                <a href="#introduction" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700 hover:text-white">Introduction</a>
                <a href="#limitations-of-lists" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700 hover:text-white">Limitations of Lists</a>
                <a href="#core-concepts" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700 hover:text-white">Core Concepts</a>
                <a href="#interactive-lookup" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700 hover:text-white">Interactive Lookup</a>
                <a href="#summary" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700 hover:text-white">Summary</a>
                <a href="#quiz" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700 hover:text-white">Knowledge Check</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="lg:ml-64 p-6 md:p-10 w-full mt-16 lg:mt-0">
            <section id="introduction" class="mb-12 bg-white p-8 rounded-xl shadow-lg">
                <h1 class="text-4xl font-bold mb-4 text-blue-800">L7.6: Introduction to the Dictionary Data Structure</h1>
                <p class="text-lg">So far, we have used lists to manage collections of data. While useful, lists have performance limitations, especially when we need to find information quickly. This lesson introduces a new, powerful data structure designed to solve this problem: the <strong>dictionary</strong>.</p>
                <p class="text-lg mt-4">Dictionaries are a fundamental tool in computational thinking. They allow us to store and retrieve data not by its position, but by a unique identifier, making lookups incredibly fast and efficient, especially when dealing with a large and growing number of items like customer records.</p>
            </section>

            <section id="limitations-of-lists" class="mb-12 bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-blue-800">The Problem with Lists: Sequential Access</h2>
                <p class="text-lg mb-4">A list stores a sequence of values. To find a specific item or check if it exists, you have to perform a <strong>sequential search</strong>—starting from the beginning and checking each item one by one until you find what you're looking for (or reach the end).</p>
                <div class="bg-red-50 border-2 border-red-200 p-6 rounded-lg shadow-sm mt-6">
                    <h3 class="text-2xl font-semibold text-red-800">Why This is Inefficient</h3>
                    <p class="text-lg mt-2">Imagine trying to find a student's grade in a list of thousands of students. If their name is near the end, you have to look through almost the entire list. As the list grows, the search time grows with it. This is not scalable for many real-world problems.</p>
                </div>
            </section>
            
            <section id="core-concepts" class="mb-12 bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-blue-800">Core Concepts of a Dictionary</h2>
                <p class="text-lg mb-4">A dictionary overcomes the limitations of a list by using a <strong>key-value pair</strong> system for storage and providing <strong>random access</strong>.</p>
                <div class="grid md:grid-cols-2 gap-6 mt-6">
                    <div class="bg-blue-50 border-2 border-blue-200 p-6 rounded-lg shadow-sm">
                        <h3 class="text-2xl font-semibold text-blue-800">Key-Value Pairs</h3>
                        <p class="text-lg mt-2">Every piece of data in a dictionary is stored as a pair:</p>
                        <ul class="list-disc list-inside text-lg mt-2 pl-4 space-y-1">
                            <li><strong>Key:</strong> A unique identifier for the data (e.g., a customer's name, a train number).</li>
                            <li><strong>Value:</strong> The data itself (e.g., the customer's total purchase amount, a list of train stops).</li>
                        </ul>
                    </div>
                    <div class="bg-green-50 border-2 border-green-200 p-6 rounded-lg shadow-sm">
                        <h3 class="text-2xl font-semibold text-green-800">Random Access</h3>
                        <p class="text-lg mt-2">This is the dictionary's superpower. It allows you to retrieve a value almost instantaneously by providing its key. The time it takes is constant and does not depend on the size of the dictionary.</p>
                    </div>
                </div>
                <div class="mt-8 border-l-4 border-blue-500 p-4">
                    <p class="text-lg font-semibold">Key Idea: Dictionary vs. List</p>
                    <p class="text-lg">A list is like a numbered list of items; you access things by their position (1st, 2nd, 3rd). A dictionary is like a real-world dictionary or an address book; you access things by a unique name (the key).</p>
                </div>
            </section>

            <section id="interactive-lookup" class="mb-12 bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-blue-800">Interactive Lookup: List vs. Dictionary</h2>
                <p class="text-lg mb-4">This simulator demonstrates the conceptual difference in lookup speed. Find a customer's total purchase amount from a dataset of 100 customers. Notice how the dictionary finds it in one step, while the list has to search sequentially.</p>
                <div class="bg-gray-50 p-6 rounded-lg border border-gray-200">
                    <div class="mb-4">
                        <label for="customer-select" class="block font-semibold mb-2">Select a Customer to Find:</label>
                        <select id="customer-select" class="w-full p-2 border border-gray-300 rounded-md bg-white"></select>
                    </div>
                    <div id="lookup-results" class="mt-4 grid md:grid-cols-2 gap-4"></div>
                </div>
            </section>

            <section id="summary" class="mb-12 bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-blue-800">Summary</h2>
                <p class="text-lg mb-4">The dictionary is a new data structure that is essential for efficient data management.</p>
                <ul class="list-disc list-inside text-lg space-y-3 pl-4">
                    <li><strong>Function:</strong> Dictionaries store key-value pairs and are fundamentally different from lists, which store ordered sequences.</li>
                    <li><strong>Key Advantage:</strong> Their primary benefit is <strong>random access</strong>, which allows for constant-time data retrieval, making them ideal for large, dynamic datasets.</li>
                    <li><strong>Flexibility:</strong> The value stored in a dictionary can be of any data type, including simple numbers, strings, or even other collections like lists.</li>
                    <li><strong>Scalability:</strong> Dictionaries are not just for small datasets. They are particularly useful when the number of variables (or keys, like customers) is large and can grow over time.</li>
                </ul>
            </section>

            <section id="quiz" class="mb-12 bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-blue-800">Knowledge Check 🧠</h2>
                <p class="text-lg mb-6">Let's test your understanding of these concepts.</p>
                <div id="quiz-container" class="space-y-8"></div>
                <div id="quiz-results" class="mt-8 text-2xl font-bold"></div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- Sidebar and navigation logic ---
            const sidebar = document.getElementById('sidebar');
            const hamburgerMenu = document.getElementById('hamburger-menu');
            const navLinks = document.querySelectorAll('#nav-links a');
            const sections = document.querySelectorAll('main section');

            hamburgerMenu.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
            });

            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth < 1024) {
                        sidebar.classList.add('-translate-x-full');
                    }
                });
            });

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('active-link');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active-link');
                            }
                        });
                    }
                });
            }, { rootMargin: "-50% 0px -50% 0px" });

            sections.forEach(section => observer.observe(section));

            // --- Interactive Lookup Simulator ---
            const customerSelect = document.getElementById('customer-select');
            const lookupResultsDiv = document.getElementById('lookup-results');
            const customerList = [];
            const customerDict = {};

            // Generate dummy data
            for (let i = 1; i <= 100; i++) {
                const customerName = `Customer_${i}`;
                const purchaseAmount = Math.floor(Math.random() * 500) + 50;
                customerList.push({ name: customerName, amount: purchaseAmount });
                customerDict[customerName] = purchaseAmount;
                const option = document.createElement('option');
                option.value = customerName;
                option.textContent = customerName;
                customerSelect.appendChild(option);
            }
            customerSelect.value = 'Customer_85'; // Default value

            function performLookup() {
                const targetCustomer = customerSelect.value;
                let listSteps = 0;
                let listResult = null;

                // List search
                for (let i = 0; i < customerList.length; i++) {
                    listSteps++;
                    if (customerList[i].name === targetCustomer) {
                        listResult = customerList[i].amount;
                        break;
                    }
                }

                // Dictionary search
                const dictResult = customerDict[targetCustomer];

                lookupResultsDiv.innerHTML = `
                    <div class="bg-white p-4 rounded-lg border">
                        <h4 class="text-xl font-semibold text-red-800">List Search</h4>
                        <p><strong>Steps taken:</strong> ${listSteps}</p>
                        <p><strong>Result:</strong> Found purchase amount of ${listResult}.</p>
                    </div>
                    <div class="bg-white p-4 rounded-lg border">
                        <h4 class="text-xl font-semibold text-green-800">Dictionary Lookup</h4>
                        <p><strong>Steps taken:</strong> 1 (Direct lookup)</p>
                        <p><strong>Result:</strong> Found purchase amount of ${dictResult}.</p>
                    </div>
                `;
            }
            customerSelect.addEventListener('change', performLookup);
            performLookup(); // Initial call

            // --- Quiz Logic ---
            const quizContainer = document.getElementById('quiz-container');
            const quizResults = document.getElementById('quiz-results');
            let score = 0;

            const quizQuestions = [
                // --- Benchmark Questions from AQ7_6.docx ---
                {
                    question: "What is the new data structure introduced in the lecture?",
                    type: "single-choice",
                    answers: ["List", "Record", "Dictionary", "None of the above"],
                    correct: ["Dictionary"],
                    explanation: "The lecture introduces the Dictionary as a new data structure for storing key-value pairs, contrasting it with the previously discussed List."
                },
                {
                    question: "The values of what all data types can be stored in a dictionary dataset? (Select all that apply)",
                    type: "multiple-choice",
                    answers: ["Character", "Integer", "List", "None of the above"],
                    correct: ["Character", "Integer", "List"],
                    explanation: "A dictionary's value can be of any data type, including simple types like characters and integers, or complex types like another list or even another dictionary."
                },
                {
                    question: "Dictionary and list are identical in their function.",
                    type: "true-false",
                    answers: ["True", "False"],
                    correct: ["False"],
                    explanation: "They are fundamentally different. Lists are ordered collections accessed by a numerical index, while dictionaries are unordered collections accessed by a unique key."
                },
                {
                    question: "Dictionary data structure is used only when the number of variables is low.",
                    type: "true-false",
                    answers: ["True", "False"],
                    correct: ["False"],
                    explanation: "Dictionaries are especially powerful when the number of variables (keys) is large and dynamic, as they provide a scalable way to manage data without creating a new named variable for each item."
                },
                // --- New Questions ---
                {
                    question: "What is the main limitation of a List that a Dictionary is designed to overcome?",
                    type: "single-choice",
                    answers: ["Lists can only store numbers.", "Lists have a fixed size.", "Lists require a slow, sequential search to find items.", "Lists cannot store duplicate values."],
                    correct: ["Lists require a slow, sequential search to find items."],
                    explanation: "The primary advantage of a dictionary is its 'random access' capability, which avoids the need for a sequential search required by lists."
                },
                {
                    question: "In a dictionary, every key must be unique.",
                    type: "true-false",
                    answers: ["True", "False"],
                    correct: ["True"],
                    explanation: "Keys are the unique identifiers for values. If you assign a new value to an existing key, it overwrites the previous value."
                },
                {
                    question: "Which of the following scenarios is best suited for a dictionary?",
                    type: "single-choice",
                    answers: ["Storing the exact order of finishers in a race.", "Storing a shopping list where the order of items matters.", "Storing a list of student names and their corresponding ID numbers.", "Storing the daily temperature readings for a month in chronological order."],
                    correct: ["Storing a list of student names and their corresponding ID numbers."],
                    explanation: "This is a perfect key-value mapping (Name -> ID). The other options all imply a specific order, which is the primary function of a list."
                },
                {
                    question: "The time it takes to find a value in a large dictionary is significantly longer than in a small dictionary.",
                    type: "true-false",
                    answers: ["True", "False"],
                    correct: ["False"],
                    explanation: "This is the concept of 'random access' or 'constant time'. The lookup time does not depend on the number of items in the dictionary."
                },
                {
                    question: "In the shopping bill example, using a separate variable for each customer is inefficient because: (Select all that apply)",
                    type: "multiple-choice",
                    answers: ["The number of customers can be very large.", "New customers can be added at any time.", "It's hard to manage hundreds of individual variable names.", "Variables cannot store numbers."],
                    correct: ["The number of customers can be very large.", "New customers can be added at any time.", "It's hard to manage hundreds of individual variable names."],
                    explanation: "A dictionary provides a single, scalable structure to handle a large and growing number of customers without needing to define a new variable for each one."
                },
                {
                    question: "If a dictionary's value is a list, you can add new items to that list.",
                    type: "true-false",
                    answers: ["True", "False"],
                    correct: ["True"],
                    explanation: "This was demonstrated in the birthday paradox example, where student IDs were added to the list associated with a specific birthday key."
                },
                {
                    question: "Accessing a value in a dictionary is done using:",
                    type: "single-choice",
                    answers: ["A numerical position, like `myDict(3)`", "The `find()` procedure", "The key inside square brackets, like `myDict[\"name\"]`", "A `foreach` loop"],
                    correct: ["The key inside square brackets, like `myDict[\"name\"]`"],
                    explanation: "The standard pseudocode notation for accessing a value is to provide the key within square brackets."
                },
                {
                    question: "A dictionary is an ordered collection, meaning items are stored chronologically.",
                    type: "true-false",
                    answers: ["True", "False"],
                    correct: ["False"],
                    explanation: "Unlike a list, a dictionary is fundamentally an unordered data structure. There is no guarantee of the sequence of the key-value pairs."
                }
            ];

            function renderQuiz() {
                quizContainer.innerHTML = quizQuestions.map((q, index) => {
                    const answersHtml = q.answers.map(answer => `
                        <label class="flex items-center space-x-3 p-3 rounded-lg border border-gray-300 cursor-pointer hover:bg-gray-100 transition has-[:checked]:bg-blue-100 has-[:checked]:border-blue-400">
                            <input type="${q.type === 'multiple-choice' ? 'checkbox' : 'radio'}" name="question${index}" value="${answer}" class="form-${q.type === 'multiple-choice' ? 'checkbox' : 'radio'} h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                            <span>${answer}</span>
                        </label>
                    `).join('');
                    return `
                        <div class="quiz-question" data-question-index="${index}">
                            <p class="text-lg font-semibold mb-4">${index + 1}. ${q.question}</p>
                            <div class="space-y-3">${answersHtml}</div>
                            <button class="submit-answer mt-4 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition">Submit</button>
                            <div class="feedback mt-3"></div>
                        </div>
                    `;
                }).join('');
            }

            quizContainer.addEventListener('click', function(e) {
                if (e.target.classList.contains('submit-answer')) {
                    const questionDiv = e.target.closest('.quiz-question');
                    const index = parseInt(questionDiv.dataset.questionIndex);
                    const question = quizQuestions[index];
                    const feedbackDiv = questionDiv.querySelector('.feedback');
                    
                    const selectedAnswers = Array.from(questionDiv.querySelectorAll(`input[name="question${index}"]:checked`)).map(input => input.value);
                    
                    if (selectedAnswers.length === 0) {
                        feedbackDiv.innerHTML = `<p class="text-yellow-600 font-semibold">Please select an answer.</p>`;
                        return;
                    }

                    questionDiv.querySelectorAll('input').forEach(input => input.disabled = true);
                    e.target.disabled = true;
                    e.target.classList.add('opacity-50', 'cursor-not-allowed');

                    const isCorrect = question.type === 'multiple-choice' 
                        ? (selectedAnswers.length === question.correct.length && selectedAnswers.every(sa => question.correct.includes(sa)))
                        : (selectedAnswers[0] === question.correct[0]);

                    if (isCorrect) {
                        feedbackDiv.innerHTML = `<div class="p-4 bg-green-100 border-l-4 border-green-500 text-green-700"><p class="font-bold">✅ Correct!</p><p class="mt-1">${question.explanation}</p></div>`;
                        score++;
                    } else {
                        feedbackDiv.innerHTML = `<div class="p-4 bg-red-100 border-l-4 border-red-500 text-red-700"><p class="font-bold">❌ Incorrect.</p><p class="mt-1"><strong>Correct Answer(s):</strong> ${question.correct.join(', ')}</p><p class="mt-1">${question.explanation}</p></div>`;
                    }
                    
                    const answeredQuestions = document.querySelectorAll('.submit-answer:disabled').length;
                    if (answeredQuestions === quizQuestions.length) {
                        quizResults.innerHTML = `Quiz Complete! Your Score: ${score} / ${quizQuestions.length}`;
                    }
                }
            });

            renderQuiz();
        });
    </script>
</body>
</html>
