<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Learning Guides</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Style for the <details> accordion */
        details > summary {
            list-style: none; /* Remove default marker */
            cursor: pointer;
        }
        details > summary::-webkit-details-marker {
            display: none; /* Hide marker for Chrome/Safari */
        }
        details > summary::before {
            content: 'â–º'; /* Collapsed state icon */
            margin-right: 0.5rem;
            font-size: 0.8em;
            transition: transform 0.2s;
        }
        details[open] > summary::before {
            transform: rotate(90deg); /* Expanded state icon */
        }
        /* Active state for sidebar */
        .sidebar-item.active {
            background-color: #4338ca; /* indigo-700 */
            color: #ffffff; /* white */
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-slate-100 text-gray-800">

    <div class="flex h-screen">
        <!-- Sidebar -->
        <aside class="w-1/3 lg:w-1/4 bg-slate-800 text-slate-100 p-6 flex flex-col">
            <div class="mb-8">
                <img src="https://study.iitm.ac.in/ds/assets/images/logo/logo.png" alt="IIT Madras BS in Data Science and Applications" class="w-full h-auto">
            </div>
            <h2 class="text-xl font-semibold mb-4 text-slate-300">Courses</h2>
            <nav id="course-sidebar" class="flex flex-col space-y-2">
                <!-- Sidebar items will be dynamically inserted here -->
            </nav>
        </aside>

        <!-- Main Content -->
        <main id="main-content" class="w-2/3 lg:w-3/4 p-8 overflow-y-auto">
            <!-- Content will be loaded here -->
            <div class="text-center text-gray-500">
                <p>Select a course from the left to view its learning guides.</p>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DATA ---
            // This is where you will add all your course information.
            const courses = [
                { 
                    id: 'eng1',
                    title: 'English 1', 
                    folder: 'English1', 
                    description: 'Guides, slides, and other materials for English 1.',
                    guides: [
                        { week: 1, topic: 'Introduction to Literature', file: 'LearningGuides/Week1/subtopic1.html' },
                        { week: 1, topic: 'The Short Story', file: 'LearningGuides/Week1/subtopic2.html' },
                        { week: 2, topic: 'Poetry Fundamentals', file: 'LearningGuides/Week2/subtopic1.html' },
                    ]
                },
                { 
                    id: 'math-ds1',
                    title: 'Math 1', 
                    folder: 'Math1', 
                    description: 'Core mathematical concepts for data analysis and machine learning.',
                    guides: [
                        // Week 1 Guides for Math 1
                        { week: 1, topic: 'L1.1: Natural Numbers', file: 'LearningGuides/Week1/Wk1_1.html' },
                        { week: 1, topic: 'L1.2: Rational Numbers', file: 'LearningGuides/Week1/Wk1_2.html' },
                        { week: 1, topic: 'L1.3: Real and Complex Numbers', file: 'LearningGuides/Week1/Wk1_3.html' },
                        { week: 1, topic: 'L1.4: Set Theory', file: 'LearningGuides/Week1/Wk1_4.html' },
                        { week: 1, topic: 'L1.5: Subsets and Set Operations', file: 'LearningGuides/Week1/Wk1_5.html' },
                        { week: 1, topic: 'L1.6: Set Examples', file: 'LearningGuides/Week1/Wk1_6.html' },
                        { week: 1, topic: 'L1.7: Set Operations and Counting', file: 'LearningGuides/Week1/Wk1_7.html' },
                        { week: 1, topic: 'L1.8: Relations', file: 'LearningGuides/Week1/Wk1_8.html' },
                        { week: 1, topic: 'L1.9: Functions', file: 'LearningGuides/Week1/Wk1_9.html' },
                        { week: 1, topic: 'L1.10: Relations: Examples', file: 'LearningGuides/Week1/Wk1_10.html' },
                        { week: 1, topic: 'L1.11: Relations: Examples', file: 'LearningGuides/Week1/Wk1_11.html' },
                    ]
                },
                { 
                    id: 'comp-think',
                    title: 'Computational Thinking', 
                    folder: 'ComputationalThinking', 
                    description: 'Problem-solving techniques using computer science principles.',
                    guides: [
                        // Week 1 Guides
                        { week: 1, topic: 'L1.1: Introduction to Datasets', file: 'LearningGuides/Week1/Wk1_1.html' },
                        { week: 1, topic: 'L1.2: Variables, Iterators & Filtering', file: 'LearningGuides/Week1/Wk1_2.html' },
                        { week: 1, topic: 'L1.3: Combined Filtering Conditions', file: 'LearningGuides/Week1/Wk1_3.html' },
                        { week: 1, topic: 'L1.4: Introduction to Flowcharts', file: 'LearningGuides/Week1/Wk1_4.html' },
                        { week: 1, topic: 'L1.5: Flowcharts with Filtering', file: 'LearningGuides/Week1/Wk1_5.html' },
                        { week: 1, topic: 'L1.6: Sanity of Data', file: 'LearningGuides/Week1/Wk1_6.html' },
                        { week: 1, topic: 'L1.7: Introduction to Datatypes', file: 'LearningGuides/Week1/Wk1_7.html' },
                        { week: 1, topic: 'L1.8: Subtypes of Datatypes', file: 'LearningGuides/Week1/Wk1_8.html' },
                        { week: 1, topic: 'L1.9: Transformation of Sub-datatypes', file: 'LearningGuides/Week1/Wk1_9.html' },
                        { week: 1, topic: 'L1.10: Subtypes of Datatypes (2)', file: 'LearningGuides/Week1/Wk1_10.html' },
                        // Week 2 Guides
                        { week: 2, topic: 'L2.1: Conditional Termination in Iteration', file: 'LearningGuides/Week2/Wk2_1.html' },
                        { week: 2, topic: 'L2.2: Max in a Single Iteration', file: 'LearningGuides/Week2/Wk2_2.html' },
                        { week: 2, topic: 'L2.3: Complex Max Finding', file: 'LearningGuides/Week2/Wk2_3.html' },
                        { week: 2, topic: 'L2.4: Max with an Unknown Number of Categories', file: 'LearningGuides/Week2/Wk2_4.html' },
                        { week: 2, topic: 'L2.5: Max of Derived Metrics in a Single Iteration', file: 'LearningGuides/Week2/Wk2_5.html' },
                        { week: 2, topic: 'L2.6: One Pass vs. Two Passes for Finding Max', file: 'LearningGuides/Week2/Wk2_6.html' },
                        { week: 2, topic: 'L2.7: Max Without Losing Information', file: 'LearningGuides/Week2/Wk2_7.html' },
                        { week: 2, topic: 'L2.8: Flowchart for Max Marks', file: 'LearningGuides/Week2/Wk2_8.html' },
                        { week: 2, topic: 'L2.9: Introduction to Pseudocode', file: 'LearningGuides/Week2/Wk2_9.html' },
                        { week: 2, topic: 'L2.10: Pseudocode for Iteration with Filtering', file: 'LearningGuides/Week2/Wk2_10.html' },
                        // Week 3 Guides
                        { week: 3, topic: 'L3.1: Presentation of Datasets in Tables', file: 'LearningGuides/Week3/Wk3_1.html' },
                        { week: 3, topic: 'L3.2: Two-Iteration Analysis & Grade Allocation', file: 'LearningGuides/Week3/Wk3_2.html' },
                        { week: 3, topic: 'L3.3: Hypothesis Verification', file: 'LearningGuides/Week3/Wk3_3.html' },
                        { week: 3, topic: 'L3.4: The Three Prizes Problem', file: 'LearningGuides/Week3/Wk3_4.html' },
                        { week: 3, topic: 'L3.5: Introduction to Procedures and Parameters', file: 'LearningGuides/Week3/Wk3_5.html' },
                        { week: 3, topic: 'L3.6: Pseudocode for Procedures (Part 1)', file: 'LearningGuides/Week3/Wk3_6.html' },
                        { week: 3, topic: 'L3.7: Pseudocode for Procedures (Part 2)', file: 'LearningGuides/Week3/Wk3_7.html' },
                        { week: 3, topic: 'L3.8: Pseudocode for Three Prizes Problem', file: 'LearningGuides/Week3/Wk3_8.html' },
                        { week: 3, topic: 'L3.9: Side Effects of Procedures', file: 'LearningGuides/Week3/Wk3_9.html' },
                        // Week 4 Guides
                        { week: 4, topic: 'L4.1: Nested Iterations & The Birthday Paradox', file: 'LearningGuides/Week4/Wk4_1.html' },
                        { week: 4, topic: 'L4.2: The Birthday Paradox (Binning Approach)', file: 'LearningGuides/Week4/Wk4_2.html' },
                        { week: 4, topic: 'L4.3: Importance of Binning', file: 'LearningGuides/Week4/Wk4_3.html' },
                        { week: 4, topic: 'L4.4: Binning to Avoid Complexity', file: 'LearningGuides/Week4/Wk4_4.html' },
                        { week: 4, topic: 'L4.5: Concept of Fair Teams', file: 'LearningGuides/Week4/Wk4_5.html' },
                        { week: 4, topic: 'L4.6: Birthday Paradox with Procedures', file: 'LearningGuides/Week4/Wk4_6.html' },
                        { week: 4, topic: 'L4.7: Pronoun Resolution Procedure', file: 'LearningGuides/Week4/Wk4_7.html' },
                        // Week 5 Guides
                        { week: 5, topic: 'L5.1: Introduction to Collections and Lists', file: 'LearningGuides/Week5/Week5_1.html' },
                        { week: 5, topic: 'L5.2: Pseudocode for Lists', file: 'LearningGuides/Week5/Week5_2.html' },
                        { week: 5, topic: 'L5.3: Three Prizes Problem', file: 'LearningGuides/Week5/Week5_3.html' },
                        { week: 5, topic: 'L5.4: Advanced List Operations', file: 'LearningGuides/Week5/Week5_4.html' },
                        { week: 5, topic: 'L5.5: Basic List Operations', file: 'LearningGuides/Week5/Week5_5.html' },
                        { week: 5, topic: 'L5.6: List Construction and Operations', file: 'LearningGuides/Week5/Week5_6.html' },
                        { week: 5, topic: 'L5.7: List of Pairs and List of Triples', file: 'LearningGuides/Week5/Week5_7.html' },
                        // Week 6 Guides
                        { week: 6, topic: 'L6.1: List of Lists', file: 'LearningGuides/Week6/Week6_1.html' },
                        { week: 6, topic: 'L6.2: Insertion Sort and Ordered Lists', file: 'LearningGuides/Week6/Week6_2.html' },
                        { week: 6, topic: 'L6.3: Pseudocode for Insertion Sort', file: 'LearningGuides/Week6/Week6_3.html' },
                        { week: 6, topic: 'L6.5: Hypothesis Verification with Lists', file: 'LearningGuides/Week6/Week6_5.html' },
                        { week: 6, topic: 'L6.6: Hypothesis Verification Pseudocode', file: 'LearningGuides/Week6/Week6_6.html' },
                        { week: 6, topic: 'L6.7: Introduction to Train Dataset', file: 'LearningGuides/Week6/Week6_7.html' },
                        // Week 7 Guides
                        { week: 7, topic: 'L7.1: Examples to introduce dictionary', file: 'LearningGuides/Week7/Week7_1.html' },
                        { week: 7, topic: 'L7.2: Concept of dictionary to solve birthday paradox problem', file: 'LearningGuides/Week7/Week7_2.html' },
                        { week: 7, topic: 'L7.3: Pseudocode for dictionaries', file: 'LearningGuides/Week7/Week7_3.html' },
                        { week: 7, topic: 'L7.4: Relations among customers (Part 1)', file: 'LearningGuides/Week7/Week7_4.html' },
                        { week: 7, topic: 'L7.5: Relations among customers (Part 2)', file: 'LearningGuides/Week7/Week7_5.html' },
                        { week: 7, topic: 'L7.6: Introduction to dictionary data structure', file: 'LearningGuides/Week7/Week7_6.html' },
                        { week: 7, topic: 'L7.7: Pseudocodes for real-time examples using dictionaries', file: 'LearningGuides/Week7/Week7_7.html' },
                        // Week 8 Guides
                        { week: 8, topic: 'L8.2: Dictionaries with lists as values', file: 'LearningGuides/Week8/Week8_2.html' },
                        { week: 8, topic: 'L8.3: Dictionary comparison to find common elements', file: 'LearningGuides/Week8/Week8_3.html' },
                        { week: 8, topic: 'L8.4: Procedure to find relations among customers', file: 'LearningGuides/Week8/Week8_4.html' },
                        { week: 8, topic: 'L8.5: Side effects in pseudocodes', file: 'LearningGuides/Week8/Week8_5.html' },
                        // Week 9 Guides
                        { week: 9, topic: 'L9.1: Introduction to Graphs', file: 'LearningGuides/Week9/Wk9_1.html' },
                        { week: 9, topic: 'L9.2: Introduction to Matrices', file: 'LearningGuides/Week9/Wk9_2.html' },
                        { week: 9, topic: 'L9.3: Undirected Graphs and Cliques', file: 'LearningGuides/Week9/Wk9_3.html' },
                        { week: 9, topic: 'L9.4: The Concept of Popular Students', file: 'LearningGuides/Week9/Wk9_4.html' },
                        { week: 9, topic: 'L9.5: Pseudocodes for Real-Time Examples', file: 'LearningGuides/Week9/Wk9_5.html' },
                        { week: 9, topic: 'L9.6: Interactive Guide to Graphs and Pseudocode', file: 'LearningGuides/Week9/Wk9_6.html' },
                        { week: 9, topic: 'L9.7: Representing Train Routes with Graphs', file: 'LearningGuides/Week9/Wk9_7.html' },
                        // Week 10 Guides
                        { week: 10, topic: 'L10.1: Representation of a graph as an adjacency matrix', file: 'LearningGuides/Week10/Week10_1.html' },
                        { week: 10, topic: 'L10.2: Construction of a graph where trains are nodes', file: 'LearningGuides/Week10/Week10_2.html' },
                        { week: 10, topic: 'L10.3: Pseudocodes for finding a route between two stations', file: 'LearningGuides/Week10/Week10_3.html' },
                        { week: 10, topic: 'L10.4: Pseudocode for edge labelled graph', file: 'LearningGuides/Week10/Week10_4.html' },
                        // Week 11 Guides
                        { week: 11, topic: 'L11.1: Depth First Search (DFS) and Recursive Procedure Call', file: 'LearningGuides/Week11/Week11_1.html' },
                        { week: 11, topic: 'L11.2: DFS for Finding Cycles', file: 'LearningGuides/Week11/Week11_2.html' },
                        { week: 11, topic: 'L11.3: Exploring the Train Graph with DFS', file: 'LearningGuides/Week11/Week11_3.html' },
                        { week: 11, topic: 'L11.4: Mutual Recursion and Bipartite Graphs', file: 'LearningGuides/Week11/Week11_4.html' },
                        { week: 11, topic: 'L11.5: Pseudocode for Recursion', file: 'LearningGuides/Week11/Week11_5.html' },
                        { week: 11, topic: 'L11.6: Comparing Graph Traversal Algorithms', file: 'LearningGuides/Week11/Week11_6.html' }
                    ]
                }
            ];

            const sidebar = document.getElementById('course-sidebar');
            const mainContent = document.getElementById('main-content');

            // --- FUNCTIONS ---

            // Function to render the main content for a selected course
            function renderCourseContent(course) {
                // Group guides by week
                const guidesByWeek = course.guides.reduce((acc, guide) => {
                    (acc[guide.week] = acc[guide.week] || []).push(guide);
                    return acc;
                }, {});

                let accordionHtml = '';
                if (course.guides.length > 0) {
                    // Sort weeks numerically
                    const sortedWeeks = Object.keys(guidesByWeek).sort((a, b) => a - b);
                    
                    sortedWeeks.forEach(week => {
                        accordionHtml += `
                            <details class="bg-white rounded-lg shadow-sm mb-3 border border-gray-200">
                                <summary class="p-4 font-semibold text-lg">Week ${week}</summary>
                                <div class="p-4 border-t border-gray-200">
                                    <ul class="space-y-2">
                        `;
                        guidesByWeek[week].forEach(guide => {
                            const fullPath = `./${course.folder}/${guide.file}`;
                            const path = `./guide_viewer.html?path=${fullPath}`;
                            accordionHtml += `<li><a href="${path}" class="text-blue-600 hover:text-blue-800 hover:underline">${guide.topic}</a></li>`;
                        });
                        accordionHtml += `</ul></div></details>`;
                    });
                } else {
                    accordionHtml = '<p class="text-gray-500 italic">No learning guides available for this course yet.</p>';
                }

                mainContent.innerHTML = `
                    <h1 class="text-4xl font-bold mb-2 text-slate-800">${course.title}</h1>
                    <p class="text-lg text-gray-600 mb-8">${course.description}</p>
                    <div class="space-y-4">${accordionHtml}</div>
                `;
            }

            // Function to handle clicks on sidebar items
            function handleSidebarClick(courseId, clickedElement) {
                const selectedCourse = courses.find(c => c.id === courseId);
                if (selectedCourse) {
                    renderCourseContent(selectedCourse);
                    // Update active state
                    document.querySelectorAll('.sidebar-item').forEach(item => item.classList.remove('active'));
                    clickedElement.classList.add('active');
                }
            }
            
            // --- INITIALIZATION ---

            // Populate the sidebar
            courses.forEach(course => {
                const item = document.createElement('a');
                item.href = '#';
                item.className = 'sidebar-item p-3 rounded-md hover:bg-slate-700 transition-colors duration-200';
                item.textContent = course.title;
                item.dataset.courseId = course.id;
                
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    handleSidebarClick(course.id, item);
                });
                sidebar.appendChild(item);
            });

            // Load the first course by default
            if (courses.length > 0) {
                const firstSidebarItem = sidebar.querySelector('.sidebar-item');
                handleSidebarClick(courses[0].id, firstSidebarItem);
            }
        });
    </script>
</body>
</html>
